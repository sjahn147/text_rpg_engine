# ê°€ìƒ ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜ ì„¤ê³„

> **ì„¤ê³„ì¼**: 2025-10-18  
> **ëª©í‘œ**: ìžë™í™”ëœ ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜ ì‹œìŠ¤í…œ êµ¬í˜„  
> **í•µì‹¬**: ì—”í‹°í‹° ìžë™ í–‰ë™ + ì‹œê°„ëŒ€ë³„ ë°˜ë³µ + ìƒí˜¸ìž‘ìš©

## ðŸ˜ï¸ **ê°€ìƒ ë§ˆì„ êµ¬ì„±**

### **ë§ˆì„ êµ¬ì¡°**
```
ë ˆí¬ë¡œìŠ¤íƒ€ ë§ˆì„ (REG_NORTH_FOREST_001)
â”œâ”€â”€ ë§ˆì„ ê´‘ìž¥ (LOC_FOREST_VILLAGE_001)
â”‚   â”œâ”€â”€ ê´‘ìž¥ ì¤‘ì‹¬ (CELL_VILLAGE_CENTER_001)
â”‚   â””â”€â”€ ë¶„ìˆ˜ëŒ€ (CELL_VILLAGE_FOUNTAIN_001)
â”œâ”€â”€ ìƒì ê°€ (LOC_FOREST_SHOP_001)
â”‚   â”œâ”€â”€ ë¬´ê¸°ìƒ (CELL_SHOP_WEAPON_001)
â”‚   â””â”€â”€ ìž¡í™”ìƒ (CELL_SHOP_GENERAL_001)
â””â”€â”€ ì£¼ê±°ì§€ (LOC_FOREST_HOUSING_001)
    â”œâ”€â”€ ìƒì¸ ì§‘ (CELL_MERCHANT_HOUSE_001)
    â””â”€â”€ ë†ë¶€ ì§‘ (CELL_FARMER_HOUSE_001)
```

### **ì—”í‹°í‹° êµ¬ì„± (5ëª…)**
1. **ìƒì¸ í† ë§ˆìŠ¤** (MERCHANT_THOMAS_001)
   - íƒ€ìž…: NPC
   - ì§ì—…: ë¬´ê¸°ìƒ
   - ìœ„ì¹˜: CELL_SHOP_WEAPON_001
   - ì„±ê²©: ì¹œê·¼í•˜ê³  ìƒì—…ì 

2. **ë†ë¶€ ì¡´** (FARMER_JOHN_001)
   - íƒ€ìž…: NPC
   - ì§ì—…: ë†ë¶€
   - ìœ„ì¹˜: CELL_FARMER_HOUSE_001
   - ì„±ê²©: ì†Œë°•í•˜ê³  ì •ì§

3. **ì—¬ê´€ì£¼ì¸ ë§ˆë¦¬ì•„** (INNKEEPER_MARIA_001)
   - íƒ€ìž…: NPC
   - ì§ì—…: ì—¬ê´€ì£¼ì¸
   - ìœ„ì¹˜: CELL_VILLAGE_CENTER_001
   - ì„±ê²©: ë”°ëœ»í•˜ê³  ê´€ëŒ€

4. **ìˆ˜í˜¸ë³‘ ì•Œë ‰ìŠ¤** (GUARD_ALEX_001)
   - íƒ€ìž…: NPC
   - ì§ì—…: ë§ˆì„ ìˆ˜í˜¸ë³‘
   - ìœ„ì¹˜: CELL_VILLAGE_CENTER_001
   - ì„±ê²©: ì±…ìž„ê° ìžˆê³  ì—„ê²©

5. **ì—¬í–‰ìž ì—˜ë¼** (TRAVELER_ELLA_001)
   - íƒ€ìž…: NPC
   - ì§ì—…: ì—¬í–‰ìž
   - ìœ„ì¹˜: CELL_VILLAGE_FOUNTAIN_001
   - ì„±ê²©: í˜¸ê¸°ì‹¬ ë§Žê³  ëª¨í—˜ì 

## â° **ì‹œê°„ ì‹œìŠ¤í…œ**

### **í•˜ë£¨ ì‚¬ì´í´ (24ì‹œê°„)**
```
06:00 - 08:00  | ìƒˆë²½ (Dawn)     | ë†ë¶€ ì¡´ ì¼ì–´ë‚˜ê¸°, ìƒì¸ í† ë§ˆìŠ¤ ìƒì  ì¤€ë¹„
08:00 - 12:00  | ì˜¤ì „ (Morning)  | ìƒì  ì˜ì—…, ë†ë¶€ ì¼í•˜ê¸°, ì—¬ê´€ì£¼ì¸ ë§ˆë¦¬ì•„ ì¤€ë¹„
12:00 - 14:00  | ì ì‹¬ (Lunch)     | ëª¨ë“  NPC ì ì‹¬ ì‹œê°„, ê´‘ìž¥ì—ì„œ ë§Œë‚¨
14:00 - 18:00  | ì˜¤í›„ (Afternoon)| ìƒì  ì˜ì—…, ë†ë¶€ ì¼í•˜ê¸°, ìˆ˜í˜¸ë³‘ ì•Œë ‰ìŠ¤ ìˆœì°°
18:00 - 20:00  | ì €ë… (Evening)  | ìƒì  ë§ˆê°, ë†ë¶€ ê·€ê°€, ì—¬ê´€ì£¼ì¸ ë§ˆë¦¬ì•„ ì €ë… ì¤€ë¹„
20:00 - 22:00  | ë°¤ (Night)      | ëª¨ë“  NPC ì €ë… ì‹œê°„, ê´‘ìž¥ì—ì„œ ëŒ€í™”
22:00 - 06:00  | ë°¤ìƒˆ (Late Night)| ëª¨ë“  NPC ìž ìžë¦¬, ì—¬í–‰ìž ì—˜ë¼ ì•¼ê°„ íƒí—˜
```

### **ì‹œê°„ ì§„í–‰ ì‹œìŠ¤í…œ**
```python
class TimeSystem:
    def __init__(self):
        self.current_time = 6  # 06:00 ì‹œìž‘
        self.day = 1
        self.time_speed = 1  # 1ë¶„ = 1ì‹œê°„
    
    async def tick(self):
        """ì‹œê°„ í‹± (1ì‹œê°„ì”© ì§„í–‰)"""
        self.current_time += 1
        if self.current_time >= 24:
            self.current_time = 0
            self.day += 1
    
    def get_time_period(self) -> str:
        """í˜„ìž¬ ì‹œê°„ëŒ€ ë°˜í™˜"""
        if 6 <= self.current_time < 8:
            return "dawn"
        elif 8 <= self.current_time < 12:
            return "morning"
        elif 12 <= self.current_time < 14:
            return "lunch"
        elif 14 <= self.current_time < 18:
            return "afternoon"
        elif 18 <= self.current_time < 20:
            return "evening"
        elif 20 <= self.current_time < 22:
            return "night"
        else:
            return "late_night"
```

## ðŸ¤– **ì—”í‹°í‹° ìžë™ í–‰ë™ ì‹œìŠ¤í…œ**

### **í–‰ë™ íƒ€ìž… ì •ì˜**
```python
class EntityActionType(str, Enum):
    WAKE_UP = "wake_up"           # ì¼ì–´ë‚˜ê¸°
    MOVE = "move"                 # ì´ë™
    WORK = "work"                 # ì¼í•˜ê¸°
    EAT = "eat"                   # ì‹ì‚¬
    TALK = "talk"                 # ëŒ€í™”
    TRADE = "trade"               # ê±°ëž˜
    SLEEP = "sleep"              # ìž ìžê¸°
    PATROL = "patrol"             # ìˆœì°°
    EXPLORE = "explore"           # íƒí—˜
    REST = "rest"                 # íœ´ì‹
```

### **ì—”í‹°í‹°ë³„ í–‰ë™ íŒ¨í„´**

#### **ìƒì¸ í† ë§ˆìŠ¤ (MERCHANT_THOMAS_001)**
```python
merchant_schedule = {
    "dawn": [EntityActionType.WAKE_UP, EntityActionType.MOVE],
    "morning": [EntityActionType.WORK, EntityActionType.TRADE],
    "lunch": [EntityActionType.EAT, EntityActionType.TALK],
    "afternoon": [EntityActionType.WORK, EntityActionType.TRADE],
    "evening": [EntityActionType.MOVE, EntityActionType.REST],
    "night": [EntityActionType.TALK, EntityActionType.EAT],
    "late_night": [EntityActionType.SLEEP]
}
```

#### **ë†ë¶€ ì¡´ (FARMER_JOHN_001)**
```python
farmer_schedule = {
    "dawn": [EntityActionType.WAKE_UP, EntityActionType.MOVE],
    "morning": [EntityActionType.WORK, EntityActionType.WORK],
    "lunch": [EntityActionType.EAT, EntityActionType.TALK],
    "afternoon": [EntityActionType.WORK, EntityActionType.WORK],
    "evening": [EntityActionType.MOVE, EntityActionType.REST],
    "night": [EntityActionType.TALK, EntityActionType.EAT],
    "late_night": [EntityActionType.SLEEP]
}
```

#### **ì—¬ê´€ì£¼ì¸ ë§ˆë¦¬ì•„ (INNKEEPER_MARIA_001)**
```python
innkeeper_schedule = {
    "dawn": [EntityActionType.WAKE_UP, EntityActionType.MOVE],
    "morning": [EntityActionType.WORK, EntityActionType.TALK],
    "lunch": [EntityActionType.EAT, EntityActionType.TALK],
    "afternoon": [EntityActionType.WORK, EntityActionType.TALK],
    "evening": [EntityActionType.WORK, EntityActionType.TALK],
    "night": [EntityActionType.TALK, EntityActionType.EAT],
    "late_night": [EntityActionType.SLEEP]
}
```

#### **ìˆ˜í˜¸ë³‘ ì•Œë ‰ìŠ¤ (GUARD_ALEX_001)**
```python
guard_schedule = {
    "dawn": [EntityActionType.WAKE_UP, EntityActionType.PATROL],
    "morning": [EntityActionType.PATROL, EntityActionType.TALK],
    "lunch": [EntityActionType.EAT, EntityActionType.TALK],
    "afternoon": [EntityActionType.PATROL, EntityActionType.PATROL],
    "evening": [EntityActionType.PATROL, EntityActionType.TALK],
    "night": [EntityActionType.TALK, EntityActionType.EAT],
    "late_night": [EntityActionType.SLEEP]
}
```

#### **ì—¬í–‰ìž ì—˜ë¼ (TRAVELER_ELLA_001)**
```python
traveler_schedule = {
    "dawn": [EntityActionType.SLEEP, EntityActionType.SLEEP],
    "morning": [EntityActionType.WAKE_UP, EntityActionType.EXPLORE],
    "lunch": [EntityActionType.EAT, EntityActionType.TALK],
    "afternoon": [EntityActionType.EXPLORE, EntityActionType.TALK],
    "evening": [EntityActionType.TALK, EntityActionType.EAT],
    "night": [EntityActionType.TALK, EntityActionType.EAT],
    "late_night": [EntityActionType.EXPLORE, EntityActionType.EXPLORE]
}
```

## ðŸ”„ **ìƒí˜¸ìž‘ìš© ì‹œìŠ¤í…œ**

### **ìƒí˜¸ìž‘ìš© íƒ€ìž…**
```python
class InteractionType(str, Enum):
    GREETING = "greeting"         # ì¸ì‚¬
    SMALL_TALK = "small_talk"     # ìž¡ë‹´
    TRADE = "trade"               # ê±°ëž˜
    GOSSIP = "gossip"             # ì†Œë¬¸
    HELP = "help"                 # ë„ì›€
    STORY = "story"              # ì´ì•¼ê¸°
    GOODBYE = "goodbye"           # ìž‘ë³„
```

### **ìƒí˜¸ìž‘ìš© ê·œì¹™**
1. **ê°™ì€ ì…€ì— ìžˆëŠ” ì—”í‹°í‹°ë“¤ë§Œ ìƒí˜¸ìž‘ìš© ê°€ëŠ¥**
2. **ì‹œê°„ëŒ€ë³„ ìƒí˜¸ìž‘ìš© í™•ë¥ **
   - ì ì‹¬ì‹œê°„ (12:00-14:00): 80% í™•ë¥ ë¡œ ëŒ€í™”
   - ì €ë…ì‹œê°„ (18:00-20:00): 60% í™•ë¥ ë¡œ ëŒ€í™”
   - ë°¤ì‹œê°„ (20:00-22:00): 40% í™•ë¥ ë¡œ ëŒ€í™”
3. **ì—”í‹°í‹°ë³„ ìƒí˜¸ìž‘ìš© ì„ í˜¸ë„**
   - ìƒì¸ í† ë§ˆìŠ¤: ê±°ëž˜, ì†Œë¬¸
   - ë†ë¶€ ì¡´: ìž¡ë‹´, ë„ì›€
   - ì—¬ê´€ì£¼ì¸ ë§ˆë¦¬ì•„: ì¸ì‚¬, ì´ì•¼ê¸°
   - ìˆ˜í˜¸ë³‘ ì•Œë ‰ìŠ¤: ì†Œë¬¸, ë„ì›€
   - ì—¬í–‰ìž ì—˜ë¼: ì´ì•¼ê¸°, ì†Œë¬¸

## ðŸ“Š **ì‹œë®¬ë ˆì´ì…˜ ë©”íŠ¸ë¦­ìŠ¤**

### **ì„±ê³µ ì§€í‘œ**
1. **100íšŒ ì—°ì† ì‹¤í–‰**: ì‹œë®¬ë ˆì´ì…˜ 100íšŒ ì—°ì† ì„±ê³µ
2. **ì—”í‹°í‹° í–‰ë™**: ê° ì—”í‹°í‹°ê°€ ì‹œê°„ëŒ€ë³„ í–‰ë™ ìˆ˜í–‰
3. **ìƒí˜¸ìž‘ìš©**: ì—”í‹°í‹° ê°„ ì˜ë¯¸ ìžˆëŠ” ìƒí˜¸ìž‘ìš© ë°œìƒ
4. **ë°ì´í„° ì¼ê´€ì„±**: DB ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€
5. **ì„±ëŠ¥**: 100íšŒ ì‹¤í–‰ ì‹œê°„ < 10ë¶„

### **ëª¨ë‹ˆí„°ë§ ë°ì´í„°**
```python
class SimulationMetrics:
    def __init__(self):
        self.total_actions = 0
        self.successful_actions = 0
        self.failed_actions = 0
        self.interactions = 0
        self.errors = []
        self.execution_time = 0
        self.memory_usage = 0
```

## ðŸ§ª **í…ŒìŠ¤íŠ¸ ê³„íš**

### **1. ë‹¨ìœ„ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**
- **ì—”í‹°í‹° í–‰ë™ í…ŒìŠ¤íŠ¸**: ê° í–‰ë™ íƒ€ìž…ë³„ í…ŒìŠ¤íŠ¸
- **ì‹œê°„ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸**: ì‹œê°„ ì§„í–‰ ë° ì‹œê°„ëŒ€ ë³€ê²½ í…ŒìŠ¤íŠ¸
- **ìƒí˜¸ìž‘ìš© í…ŒìŠ¤íŠ¸**: ì—”í‹°í‹° ê°„ ìƒí˜¸ìž‘ìš© ë¡œì§ í…ŒìŠ¤íŠ¸

### **2. ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸**
- **í•˜ë£¨ ì‹œë‚˜ë¦¬ì˜¤**: 24ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜
- **íŠ¹ì • ìƒí™© ì‹œë‚˜ë¦¬ì˜¤**: ì ì‹¬ì‹œê°„, ì €ë…ì‹œê°„ ì§‘ì¤‘ í…ŒìŠ¤íŠ¸
- **ì—”í‹°í‹°ë³„ ì‹œë‚˜ë¦¬ì˜¤**: ê° ì—”í‹°í‹°ì˜ í•˜ë£¨ ì¼ê³¼ í…ŒìŠ¤íŠ¸

### **3. í†µí•© í…ŒìŠ¤íŠ¸**
- **ì „ì²´ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸**: ëª¨ë“  ëª¨ë“ˆ ì—°ë™ í…ŒìŠ¤íŠ¸
- **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: 100íšŒ ì—°ì† ì‹¤í–‰ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- **ë°ì´í„° ë¬´ê²°ì„± í…ŒìŠ¤íŠ¸**: DB ë°ì´í„° ì¼ê´€ì„± í…ŒìŠ¤íŠ¸

### **4. ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜**
- **100íšŒ ë°˜ë³µ ì‹¤í–‰**: ìžë™í™”ëœ ì‹œë®¬ë ˆì´ì…˜
- **ê²°ê³¼ ë¶„ì„**: ê° ì‹¤í–‰ ê²°ê³¼ ë¶„ì„ ë° ë¦¬í¬íŠ¸
- **ìµœì í™”**: ì„±ëŠ¥ ë° ì•ˆì •ì„± ìµœì í™”
