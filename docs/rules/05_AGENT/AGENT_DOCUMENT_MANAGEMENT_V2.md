# 에이전트 문서 관리 규칙 (v2.0 - 단일 문서 기반)

> **최신화 날짜**: 2026-01-03  
> **버전**: 2.0  
> **목적**: 에이전트가 프로젝트 문서를 효율적으로 관리하기 위한 단순화된 규칙  
> **핵심 원칙**: 프로젝트마다 하나의 문서만 관리, 단순성 우선

---

## ⚠️ 중요: 이 문서는 필수 읽기

**모든 에이전트는 이 문서의 규칙을 반드시 준수해야 합니다.**

- ✅ **단일 문서 관리**: 프로젝트마다 하나의 문서만 계속 업데이트
- ✅ **단순한 구조**: 복잡한 단계나 연결 관리 불필요
- ✅ **체크리스트 기반**: 상태 관리는 체크리스트로 간단히 처리

---

## 📋 목차

1. [핵심 원칙](#핵심-원칙)
2. [디렉토리 구조](#디렉토리-구조)
3. [문서 작성 규칙](#문서-작성-규칙)
4. [상태 관리](#상태-관리)
5. [작업 흐름](#작업-흐름)
6. [실제 사용 예시](#실제-사용-예시)

---

## 핵심 원칙

### 1. 단일 문서 원칙 (Single Document Principle)

**프로젝트마다 하나의 문서만 관리합니다.**

- ✅ 프로젝트 시작 시 하나의 문서 생성
- ✅ 모든 작업은 해당 문서에 기록
- ✅ 상태 변경도 문서 내에서 체크리스트로 관리
- ❌ 여러 문서로 분리하지 않음
- ❌ 복잡한 연결 관리 불필요

### 2. 단순성 우선 (Simplicity First)

**복잡한 규칙보다 단순한 규칙을 우선합니다.**

- ✅ 최소한의 메타데이터만 사용
- ✅ 명확한 파일명 규칙
- ✅ 직관적인 디렉토리 구조
- ❌ 과도한 메타데이터 금지
- ❌ 복잡한 상태 전환 규칙 금지

### 3. 이력 추적 (History Tracking)

**모든 변경 사항을 문서 내에서 추적합니다.**

- ✅ 이력 섹션에 날짜별 작업 기록
- ✅ 체크리스트로 진행 상황 관리
- ✅ 관련 문서는 링크로만 참조
- ❌ 별도의 이력 문서 생성 불필요

---

## 디렉토리 구조

### 전체 구조

```
docs/work-items/
├── active/                    # 진행 중인 프로젝트
│   ├── PROJECT-001-object-interaction.md
│   ├── PROJECT-002-ui-redesign.md
│   └── ...
├── completed/                 # 완료된 프로젝트
│   ├── PROJECT-001-object-interaction.md
│   └── ...
└── archived/                  # 보관된 프로젝트 (참고용)
    └── ...
```

### 디렉토리 설명

#### `active/` - 진행 중인 프로젝트

- 현재 작업 중인 모든 프로젝트 문서
- 상태: `active`
- 프로젝트 완료 시 `completed/`로 이동

#### `completed/` - 완료된 프로젝트

- 완료된 프로젝트 문서
- 상태: `completed`
- 참고용으로 보관

#### `archived/` - 보관된 프로젝트

- 더 이상 필요하지 않지만 보관할 가치가 있는 프로젝트
- 상태: `archived`
- 필요 시 삭제 가능

---

## 문서 작성 규칙

### 파일명 규칙

**형식**: `PROJECT-{번호}-{키워드}.md`

**예시**:
- `PROJECT-001-object-interaction.md`
- `PROJECT-002-ui-redesign.md`
- `PROJECT-003-error-handling.md`

**규칙**:
- `PROJECT-` 접두사 필수
- 순차적 번호 (001, 002, 003, ...)
- 키워드는 소문자, 하이픈 구분 (최대 30자)
- 기존 프로젝트 번호 확인 후 다음 번호 사용

### 메타데이터 (YAML Frontmatter)

**필수 필드**:
```yaml
---
id: PROJECT-001
title: 프로젝트 제목
status: active|completed|archived
created_at: 2026-01-01T12:00:00Z
updated_at: 2026-01-03T15:30:00Z
---
```

**선택 필드**:
```yaml
---
id: PROJECT-001
title: 프로젝트 제목
status: active
category: object-interaction|ui-redesign|error-handling|...
priority: high|medium|low
created_at: 2026-01-01T12:00:00Z
updated_at: 2026-01-03T15:30:00Z
author: agent|user
---
```

**필드 설명**:
- `id`: 프로젝트 ID (파일명과 동일, 확장자 제외)
- `title`: 프로젝트 제목
- `status`: 현재 상태 (`active`, `completed`, `archived`)
- `category`: 카테고리 (검색 및 그룹화용)
- `priority`: 우선순위 (`high`, `medium`, `low`)
- `created_at`: 생성일 (ISO 8601 형식)
- `updated_at`: 최종 수정일 (ISO 8601 형식)
- `author`: 작성자 (`agent` 또는 `user`)

### 문서 템플릿

```markdown
---
id: PROJECT-001
title: {프로젝트 제목}
status: active
category: {카테고리}
priority: high
created_at: {생성일}
updated_at: {최종 수정일}
author: agent
---

# {프로젝트 제목}

## 개요
{프로젝트의 목적과 배경을 간단히 설명}

## 진행 상황

### 단계별 진행 상황
- [ ] 문제 정의
- [ ] 현황 진단
- [ ] 방법론 검토
- [ ] 실행 계획 수립
- [ ] 개발 시작
- [ ] 테스트
- [ ] QA
- [ ] 문서화
- [ ] 완료

### 작업 목록
- [ ] 작업 1: {작업 설명}
- [ ] 작업 2: {작업 설명}
- [ ] 작업 3: {작업 설명}

## 작업 이력

### {YYYY-MM-DD}
- {시간}: {작업 내용}
- {시간}: {작업 내용}

### {YYYY-MM-DD}
- {시간}: {작업 내용}

## 관련 문서
- [관련 문서 1](../../architecture/08_architecture_guide.md)
- [관련 문서 2](../../rules/00_CORE/02_ARCHITECTURE_PRINCIPLES.md)

## 참고 사항
- {추가 정보나 주의사항}
```

---

## 상태 관리

### 상태 종류

1. **`active`**: 진행 중인 프로젝트
   - 현재 작업 중
   - `active/` 폴더에 위치

2. **`completed`**: 완료된 프로젝트
   - 모든 작업 완료
   - `completed/` 폴더로 이동

3. **`archived`**: 보관된 프로젝트
   - 더 이상 필요하지 않지만 보관할 가치가 있음
   - `archived/` 폴더로 이동

### 상태 변경 규칙

#### `active` → `completed`

**조건**:
- 모든 작업이 완료됨
- 테스트 및 QA 완료
- 문서화 완료

**작업**:
1. 문서의 `status`를 `completed`로 변경
2. `updated_at` 업데이트
3. 문서를 `completed/` 폴더로 이동
4. "완료" 체크리스트 항목 체크

#### `active` → `archived`

**조건**:
- 프로젝트가 중단되거나 취소됨
- 더 이상 진행하지 않지만 참고용으로 보관

**작업**:
1. 문서의 `status`를 `archived`로 변경
2. `updated_at` 업데이트
3. 문서를 `archived/` 폴더로 이동
4. 이력에 중단/취소 사유 기록

---

## 작업 흐름

### 1. 프로젝트 시작

**작업 순서**:
1. 기존 프로젝트 번호 확인
2. 새 프로젝트 번호 결정 (다음 번호)
3. `active/` 폴더에 문서 생성
4. 템플릿에 따라 문서 작성
5. 메타데이터 필수 필드 채우기

**예시**:
```markdown
---
id: PROJECT-003
title: 에러 처리 시스템 개선
status: active
category: error-handling
priority: high
created_at: 2026-01-03T10:00:00Z
updated_at: 2026-01-03T10:00:00Z
author: agent
---

# 에러 처리 시스템 개선

## 개요
분산된 에러 처리 시스템을 통합하고 개선합니다.

## 진행 상황
- [x] 문제 정의
- [x] 현황 진단
- [ ] 방법론 검토
- [ ] 실행 계획 수립
...
```

### 2. 작업 진행

**작업 순서**:
1. 문서 열기
2. 작업 내용을 "작업 목록"에 추가
3. 작업 시작 시 체크리스트에 추가
4. 작업 완료 시 체크리스트 체크
5. 이력 섹션에 작업 기록
6. `updated_at` 업데이트

**예시**:
```markdown
## 작업 목록
- [x] 작업 1: 에러 타입 정의 (완료)
- [ ] 작업 2: 에러 핸들러 통합 (진행 중)
- [ ] 작업 3: 테스트 작성 (대기)

## 작업 이력

### 2026-01-03
- 10:00: 프로젝트 시작
- 11:00: 문제 정의 및 현황 진단 완료
- 14:00: 작업 1 시작
- 16:00: 작업 1 완료
```

### 3. 프로젝트 완료

**작업 순서**:
1. 모든 작업 완료 확인
2. 문서의 `status`를 `completed`로 변경
3. `updated_at` 업데이트
4. 문서를 `completed/` 폴더로 이동
5. 완료 체크리스트 항목 체크

**예시**:
```markdown
---
status: completed
updated_at: 2026-01-10T18:00:00Z
---

## 진행 상황
- [x] 문제 정의
- [x] 현황 진단
- [x] 방법론 검토
- [x] 실행 계획 수립
- [x] 개발 시작
- [x] 테스트
- [x] QA
- [x] 문서화
- [x] 완료
```

---

## 실제 사용 예시

### 예시 1: 새 프로젝트 시작

**사용자 요청**:
```
"오브젝트 상호작용 기능 개선 프로젝트를 시작해주세요"
```

**에이전트 작업**:
1. 기존 프로젝트 번호 확인: `PROJECT-001`, `PROJECT-002` 존재
2. 새 프로젝트 번호: `PROJECT-003`
3. 문서 생성: `docs/work-items/active/PROJECT-003-object-interaction.md`
4. 템플릿에 따라 문서 작성

### 예시 2: 작업 진행

**사용자 요청**:
```
"상태 전이 규칙 검증 강화 작업을 시작해주세요"
```

**에이전트 작업**:
1. 프로젝트 문서 열기: `PROJECT-003-object-interaction.md`
2. 작업 목록에 추가:
   ```markdown
   - [ ] 작업 1: 상태 전이 규칙 검증 강화
   ```
3. 이력에 기록:
   ```markdown
   ### 2026-01-03
   - 15:00: 작업 1 시작
   ```
4. `updated_at` 업데이트

### 예시 3: 작업 완료

**사용자 요청**:
```
"상태 전이 규칙 검증 강화 작업이 완료되었습니다"
```

**에이전트 작업**:
1. 프로젝트 문서 열기
2. 작업 목록 업데이트:
   ```markdown
   - [x] 작업 1: 상태 전이 규칙 검증 강화 (완료)
   ```
3. 이력에 기록:
   ```markdown
   ### 2026-01-03
   - 15:00: 작업 1 시작
   - 17:00: 작업 1 완료
   ```
4. `updated_at` 업데이트

### 예시 4: 프로젝트 완료

**사용자 요청**:
```
"오브젝트 상호작용 기능 개선 프로젝트가 완료되었습니다"
```

**에이전트 작업**:
1. 모든 작업 완료 확인
2. 문서의 `status`를 `completed`로 변경
3. `updated_at` 업데이트
4. 문서를 `completed/` 폴더로 이동
5. 완료 체크리스트 항목 체크

---

## 체크리스트

### 문서 생성 시

- [ ] 기존 프로젝트 번호 확인
- [ ] 새 프로젝트 번호 결정
- [ ] 올바른 폴더에 문서 생성 (`active/`)
- [ ] 파일명 규칙 준수 (`PROJECT-{번호}-{키워드}.md`)
- [ ] 필수 메타데이터 포함 (`id`, `title`, `status`, `created_at`, `updated_at`)
- [ ] 템플릿에 따라 문서 작성

### 작업 진행 시

- [ ] 프로젝트 문서 열기
- [ ] 작업 내용을 작업 목록에 추가
- [ ] 이력 섹션에 작업 기록
- [ ] `updated_at` 업데이트
- [ ] 체크리스트 업데이트

### 프로젝트 완료 시

- [ ] 모든 작업 완료 확인
- [ ] 문서의 `status`를 `completed`로 변경
- [ ] `updated_at` 업데이트
- [ ] 문서를 `completed/` 폴더로 이동
- [ ] 완료 체크리스트 항목 체크

---

## 금지 사항

### ❌ 하지 말아야 할 것

1. **여러 문서로 분리 금지**
   - 프로젝트를 여러 문서로 나누지 않음
   - 모든 작업은 하나의 문서에 기록

2. **복잡한 연결 관리 금지**
   - 양방향 연결 관리 불필요
   - 관련 문서는 링크로만 참조

3. **과도한 메타데이터 금지**
   - 필수 필드만 사용
   - 불필요한 메타데이터 추가 금지

4. **복잡한 상태 전환 규칙 금지**
   - 단순한 상태 변경만 사용
   - 복잡한 전환 조건 불필요

5. **별도 이력 문서 생성 금지**
   - 이력은 프로젝트 문서 내에서 관리
   - 별도의 이력 문서 생성 불필요

---

## 참고 문서

- `AGENT_DOCUMENT_MANAGEMENT_CRITICAL_REVIEW.md`: 비판적 검토 문서
- `AGENT_DOCUMENT_MANAGEMENT.md`: 기존 규칙 문서 (deprecated)

---

## 마이그레이션 가이드

기존 문서를 새 구조로 마이그레이션하는 방법은 별도 문서를 참조하세요.

---

## 결론

**이 규칙을 준수하면**:
- ✅ 단순하고 명확한 문서 관리
- ✅ 에이전트가 쉽게 따라할 수 있는 규칙
- ✅ 복잡한 연결 관리 불필요
- ✅ 프로젝트 진행 상황을 한눈에 파악 가능

**핵심**: 프로젝트마다 하나의 문서만 관리하고, 모든 작업을 그 문서에 기록하세요.

