# RPG Engine Technical Constitution – Philosophy

> **최신화 날짜**: 2026-01-03

## 1. Mission Statement
RPG Engine의 모든 코드는 "데이터 무결성, 예측 가능한 상태, 검증 가능한 결과"를 목표로 한다.
코드 품질은 기능 구현이 아니라, 실패를 방지하는 구조로 정의된다.

## 2. Core Principles (불변 철학)

### 2.1 Data-Centric Development
- 데이터베이스 스키마와 모델이 시스템의 단일 진실(Single Source of Truth)이다.
- 비즈니스 로직은 데이터 구조 위에서 정의된다.
- 코드가 데이터에 맞춰 적응해야지, 데이터가 코드에 종속되어서는 안 된다.

### 2.2 Immutability-First
- 상태 변화는 새로운 객체 생성으로 표현한다.
- 기존 객체를 직접 수정하지 않는다.
- 부작용(Side Effect)은 모든 예측 불가능성의 근원으로 간주한다.

### 2.3 Type-Safety-First
- 모든 함수, 클래스, API는 타입으로 계약을 명시한다.
- Any, untyped, dynamic 구조는 시스템을 불투명하게 만드는 요소로 금지한다.
- 런타임 오류는 타입 시스템이 예방해야 한다.

### 2.4 Async-First
- 모든 I/O는 비동기로 설계하며, 동기 호출은 차단(blocking)으로 간주한다.
- 동시성 문제는 락/세마포어로 해결한다.
- UI, 네트워크, DB는 비동기 생태계 안에 존재해야 한다.

### 2.5 Critical Evaluation
- 기능은 성공 여부가 아니라 실패 가능성으로 평가한다.
- "작동한다"는 이유만으로 병합되지 않는다.
- 모든 결과는 테스트와 로그로 증명되어야 한다.

### 2.6 No Uncertainty Principle (불확정성 불허 원칙)
- **추측 로직 금지**: "아마도 이 형식일 것이다", "아마도 이 값일 것이다"와 같은 추측에 의존하는 코드는 절대 금지
- **명시적 처리 필수**: 모든 데이터 변환, 타입 변환, ID 변환은 명시적으로 처리하고 검증해야 함
- **불확정성 제거**: 레이어 간 데이터 전달 시 형식이 불확정적이면 안 됨. 모든 계약은 명시적으로 정의되어야 함
- **에러 우선 처리**: 변환 실패 시 기본값으로 대체하지 않고 명시적 에러를 발생시켜야 함
- **타입 시스템 강제**: 런타임에 타입을 추측하지 않고, 타입 시스템으로 강제해야 함

---

## 3. Absolute Prohibitions (무조건 금지)

| 금지 항목 | 이유 |
|-----------|------|
| 전역 상태(global state) | 예측 불가능성, 테스트 불가 |
| 하드코딩된 설정/비밀 | 환경 격리 파괴 |
| 문자열 기반 SQL | 보안 및 인젝션 위험 |
| eval(), exec() | 제어 불가능한 실행 |
| except: pass | 오류 은폐 및 장애 전파 |
| DB 수정 시 사용자 컨펌 누락 | 데이터 무결성 파괴 |
| Mock의 프로덕션 코드 포함 | 현실 동작 왜곡 |
| 낙관적 보고 (추정 기반 완료율) | 품질 지표 왜곡 |
| 추측 로직 (guess logic) | 불확정성 허용, 런타임 에러 원인 |
| 타입 추측 (type guessing) | 타입 시스템 우회, 불확정성 증가 |
| 기본값으로 에러 은폐 | 문제 은폐 및 디버깅 어려움 |

---

## 4. Philosophical Justification (존재 이유)

| 원칙 | 방어하는 위험 |
|------|----------------|
| 데이터 중심 | 스키마 불일치, 런타임 불일관 |
| 불변성 | 사이드 이펙트, 레이스컨디션 |
| 타입 안전 | 런타임 장애, 디버깅 비용 |
| 비동기 | 블로킹, 지연 누적 |
| 비판적 평가 | 미해결 위험의 은폐 |
| 불확정성 불허 | 추측 로직, 타입 불일치, 레이어 간 계약 위반 |

---

## 5. Interpretation Rule (해석 규칙)
- 질문이 발생하면 "가장 안전한 선택"을 따른다.
- 성능 < 안전성 < 무결성의 우선순위를 유지한다.
- 본 철학과 충돌하는 기능 요구사항이 존재하면, 기능이 아니라 철학이 우선한다.

---

## 6. Amendment (개정 규칙)
- 이 문서는 개발 속도를 높이기 위해 바뀌지 않는다.
- 개정은 오직 새로운 위험을 증명할 수 있을 때만 수행한다.
