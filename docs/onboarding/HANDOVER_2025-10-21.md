# ğŸ”„ í”„ë¡œì íŠ¸ ì¸ìˆ˜ì¸ê³„ì„œ

> **ìµœì‹ í™” ë‚ ì§œ**: 2025-12-28

**ì¸ê³„ì¼**: 2025-10-21  
**ì¸ê³„ì**: AI Assistant (Phase 3 ì™„ë£Œ)  
**ì¸ìˆ˜ì**: ë‹¤ìŒ AI Assistant  
**í”„ë¡œì íŠ¸**: RPG Engine - MVP ê°œë°œ (Phase 3 Village Simulation ì™„ë£Œ)  
**í˜„ì¬ ìƒíƒœ**: Phase 3 ì™„ë£Œ, World Editor 80% ì™„ë£Œ, ëª¨ë“  Manager í´ë˜ìŠ¤ êµ¬í˜„ ì™„ë£Œ

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì˜¨ë³´ë”© ë¬¸ì„œ ì½ê¸° ìˆœì„œ](#2-ì˜¨ë³´ë”©-ë¬¸ì„œ-ì½ê¸°-ìˆœì„œ)
3. [í˜„ì¬ ì§„í–‰ ìƒí™©](#3-í˜„ì¬-ì§„í–‰-ìƒí™©)
4. [í•µì‹¬ ì•„í‚¤í…ì²˜](#4-í•µì‹¬-ì•„í‚¤í…ì²˜)
5. [ì¤‘ìš” ëª¨ë“ˆ ë° ë©”ì„œë“œ](#5-ì¤‘ìš”-ëª¨ë“ˆ-ë°-ë©”ì„œë“œ)
6. [ì‘ì—… ë£¨í‹´ ë° ì›Œí¬í”Œë¡œìš°](#6-ì‘ì—…-ë£¨í‹´-ë°-ì›Œí¬í”Œë¡œìš°)
7. [ì•Œë ¤ì§„ ì´ìŠˆ ë° ì£¼ì˜ì‚¬í•­](#7-ì•Œë ¤ì§„-ì´ìŠˆ-ë°-ì£¼ì˜ì‚¬í•­)
8. [ë‹¤ìŒ ì‘ì—… TODO](#8-ë‹¤ìŒ-ì‘ì—…-todo)
9. [ë¹ ë¥¸ ì°¸ì¡°](#9-ë¹ ë¥¸-ì°¸ì¡°)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### ğŸ¯ ëª©í‘œ
**Story Engine ê¸°ë°˜ TRPG ë””ì§€í„¸í™”**
- DB ì¤‘ì‹¬ ì„¤ê³„ (Database-First)
- 3-Layer ì•„í‚¤í…ì²˜ (game_data â†’ runtime_data â†’ reference_layer)
- LLM(Gemini API) ê¸°ë°˜ ë™ì  ë‚´ëŸ¬í‹°ë¸Œ
- ì§€ì†ì  ì„¸ê³„ ì‹œë®¬ë ˆì´ì…˜

### ğŸ“Š í˜„ì¬ ë‹¨ê³„
- **Phase 1**: Entity-Cell ìƒí˜¸ì‘ìš© âœ… **ì™„ë£Œ**
- **Phase 2**: Dialogue & Action ì‹œìŠ¤í…œ âœ… **ì™„ë£Œ**
- **Phase 3**: Village Simulation âœ… **ì™„ë£Œ**
- **ë‹¤ìŒ ë‹¨ê³„**: UI ì‹œìŠ¤í…œ, TimeSystem ëª¨ë“ˆ, NPC í–‰ë™ íŒ¨í„´

### ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
- **DB**: PostgreSQL (asyncpg)
- **ì–¸ì–´**: Python 3.12
- **í”„ë ˆì„ì›Œí¬**: FASTAPI (ì˜ˆì •), asyncio
- **í…ŒìŠ¤íŠ¸**: pytest, pytest-asyncio
- **ê²€ì¦**: Pydantic, mypy

---

## 2. ì˜¨ë³´ë”© ë¬¸ì„œ ì½ê¸° ìˆœì„œ

### ğŸ”¥ í•„ìˆ˜ (ìˆœì„œëŒ€ë¡œ ì½ì„ ê²ƒ!)

#### Step 1: ê°œë°œ ì² í•™ ë° ê·œì¹™ ì´í•´ (30ë¶„)
```
1. docs/@rules/ì½”ë”© ì»¨ë²¤ì…˜ ë° í’ˆì§ˆ ê°€ì´ë“œ.md â­â­â­
   - 8ê°€ì§€ ê°œë°œ ì² í•™ (Data-Centric, Immutability-First ë“±)
   - DO / DO NOT ì›ì¹™
   - ì•„í‚¤í…ì²˜ ì„¤ê³„ ë°©ë²•ë¡ 
```

#### Step 2: í”„ë¡œì íŠ¸ êµ¬ì¡° íŒŒì•… (20ë¶„)
```
2. readme.md
   - í”„ë¡œì íŠ¸ ì „ì²´ ê°œìš”
   - ì—…ë°ì´íŠ¸ ë¡œê·¸ (ìµœì‹  ë³€ê²½ì‚¬í•­)

3. docs/@project-management/mvp_development_plan_v2.md
   - MVP ëª©í‘œ ë° ë²”ìœ„
   - ê°œë°œ ìš°ì„ ìˆœìœ„
   - ì™„ë£Œ ê¸°ì¤€
```

#### Step 3: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì´í•´ (45ë¶„) â­ ê°€ì¥ ì¤‘ìš”!
```
4. database/setup/mvp_schema.sql â­â­â­
   - 3-Layer êµ¬ì¡° ì™„ì „ ì´í•´ í•„ìˆ˜
   - game_data: ì •ì  í…œí”Œë¦¿
   - runtime_data: ì„¸ì…˜ë³„ ëŸ°íƒ€ì„ ë°ì´í„°
   - reference_layer: ê´€ê³„ ë§¤í•‘

5. docs/dev/schema_migration_progress_2025-10-21.md
   - ìµœê·¼ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì‚¬í•­
   - 3-Layer êµ¬ì¡° ì ìš© ì‚¬ë¡€
```

#### Step 4: ìµœê·¼ ê°œë°œ í˜„í™© (30ë¶„)
```
6. docs/dev/TDD_SPRINT_TEST_REPORT_2025-10-21.md â­â­
   - Phase 1 ì™„ë£Œ ë‚´ì—­
   - ìˆ˜ì •ëœ ì½”ë“œ ìœ„ì¹˜ ë° ì´ìœ 
   - í…ŒìŠ¤íŠ¸ ê²°ê³¼

7. docs/dev/TDD_SPRINT_PROGRESS_2025-10-20.md
   - TDD ìŠ¤í”„ë¦°íŠ¸ ì§„í–‰ ìƒí™©
   - Manager í´ë˜ìŠ¤ êµ¬ì¡°

8. docs/architecture/MANAGER_ARCHITECTURE_COMPARISON.md
   - Legacy vs Current ì•„í‚¤í…ì²˜ ë¹„êµ
```

#### Step 5: í…ŒìŠ¤íŠ¸ ì´í•´ (20ë¶„)
```
9. docs/tests/TEST_AUDIT_REPORT_2025-10-20.md
   - í…ŒìŠ¤íŠ¸ êµ¬ì¡° (active/legacy/deprecated)
   - í…ŒìŠ¤íŠ¸ ì „ëµ

10. tests/active/conftest.py
    - í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜ êµ¬ì¡°
```

### ğŸ“š ì„ íƒ (í•„ìš”ì‹œ ì°¸ê³ )

```
- docs/@ideation/game_design_memo.md - ê²Œì„ ë””ìì¸ ì² í•™
- docs/@ideation/village_simulation_plan.md - ìµœì¢… ëª©í‘œ ì‹œë‚˜ë¦¬ì˜¤
- docs/@project-management/known_issues.md - ì•Œë ¤ì§„ ì´ìŠˆ ëª©ë¡
```

---

## 3. í˜„ì¬ ì§„í–‰ ìƒí™©

### âœ… ì™„ë£Œëœ ì‘ì—… (Phase 1-3)

#### 1. **MVP ìŠ¤í‚¤ë§ˆ 3-Layer êµ¬ì¡° êµ¬ì¶•**
- `database/setup/mvp_schema.sql` ì™„ì„±
- `database/setup/test_templates.sql` (í…ŒìŠ¤íŠ¸ ë°ì´í„°)
- 3-Layer: game_data â†’ runtime_entities â†’ entity_states

#### 2. **EntityManager êµ¬í˜„ ë° DB í†µí•©**
```python
âœ… create_entity() - runtime_entities + entity_states ìƒì„±
âœ… get_entity() - 3-Layer ì¡°ì¸ ì¡°íšŒ
âœ… update_entity() - ìƒíƒœ ì—…ë°ì´íŠ¸
âœ… delete_entity() - CASCADE ì‚­ì œ
âœ… list_entities() - í•„í„°ë§ ì¡°íšŒ
```

#### 3. **CellManager êµ¬í˜„ ë° DB í†µí•©**
```python
âœ… create_cell() - runtime_cells ìƒì„±
âœ… get_cell() - ì…€ ì¡°íšŒ
âœ… add_entity_to_cell() - ì—”í‹°í‹° ì¶”ê°€ (current_position ì—…ë°ì´íŠ¸)
âœ… remove_entity_from_cell() - ì—”í‹°í‹° ì œê±°
âœ… move_entity_between_cells() - ì…€ ê°„ ì´ë™
âœ… _load_cell_content_from_db() - 3-Layer ì¡°ì¸ + JSONB íŒŒì‹±
```

#### 4. **Phase 2: Dialogue & Action ì‹œìŠ¤í…œ ì™„ë£Œ**
```python
âœ… DialogueManager - ëŒ€í™” ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„
   - start_dialogue(), continue_dialogue(), end_dialogue()
   - í† í”½ ê´€ë¦¬, ì‘ë‹µ ìƒì„±, íˆìŠ¤í† ë¦¬ ê´€ë¦¬
   - ì„±ëŠ¥: 275 dialogues/sec

âœ… ActionHandler - ì•¡ì…˜ ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„
   - investigate, move, wait, attack, use_item ë“± 8ê°€ì§€ í•µì‹¬ ì•¡ì…˜
   - ì•¡ì…˜ ë¡œê¹…, ì„¸ì…˜ ê´€ë¦¬, ì—”í‹°í‹° ê²€ì¦
   - ì„±ëŠ¥: 960 entities/sec (ë™ì‹œ ì„¸ì…˜)
```

#### 5. **Phase 3: Village Simulation ì™„ë£Œ**
```python
âœ… 100ì¼ ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜ ì„±ê³µ
   - ì‹¤í–‰ ì‹œê°„: 1.98ì´ˆ (ëª©í‘œ 5ì´ˆ ì´í•˜)
   - ì´ ëŒ€í™”: 228íšŒ (ëª©í‘œ 50íšŒ ì´ˆê³¼)
   - ì´ í–‰ë™: 833íšŒ (ëª©í‘œ 100íšŒ ì´ˆê³¼)
   - ì‹œìŠ¤í…œ ì•ˆì •ì„±: 100% (ì˜¤ë¥˜ ì—†ì´ ì™„ë£Œ)
```

#### 6. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ**
```
âœ… ëŒ€ëŸ‰ ì—”í‹°í‹° ìƒì„±: 1,226 entities/sec (ëª©í‘œ 50 entities/sec ì´ˆê³¼)
âœ… ë™ì‹œ ì„¸ì…˜ ì²˜ë¦¬: 960 entities/sec (ëª©í‘œ 100 entities/sec ì´ˆê³¼)
âœ… ì…€ ì‘ì—… ì„±ëŠ¥: 413 cells/sec (ëª©í‘œ 10 cells/sec ì´ˆê³¼)
âœ… ëŒ€í™” ì‹œìŠ¤í…œ: 275 dialogues/sec (ëª©í‘œ 10 dialogues/sec ì´ˆê³¼)
âœ… ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: 1.0 MB (ëª©í‘œ 100 MB ì´í•˜)
```

### ğŸ¯ **ë‹¤ìŒ ë‹¨ê³„ (Phase 4+)**

- **UI ì‹œìŠ¤í…œ**: PyQt5 ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ êµ¬í˜„
- **TimeSystem ëª¨ë“ˆ**: ì‹œê°„ ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜ ê³ ë„í™”
- **NPC í–‰ë™ íŒ¨í„´**: ì§€ëŠ¥í˜• AI êµ¬í˜„
- **ì½˜í…ì¸  í™•ì¥**: ë” ë§ì€ NPC, ì´ë²¤íŠ¸, ìŠ¤í† ë¦¬ ì¶”ê°€

---

## 4. í•µì‹¬ ì•„í‚¤í…ì²˜

### ğŸ—ï¸ 3-Layer êµ¬ì¡° (ê°€ì¥ ì¤‘ìš”!)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ game_data (ì •ì  í…œí”Œë¦¿ - ë¶ˆë³€)                        â”‚
â”‚ - entities, world_cells, items, abilities ë“±         â”‚
â”‚ - entity_id (VARCHAR PK): "NPC_VILLAGER_001"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ FK: game_entity_id
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ runtime_data (ëŸ°íƒ€ì„ ì°¸ì¡° - ì„¸ì…˜ë³„)                   â”‚
â”‚ - runtime_entities (ì°¸ì¡°ë§Œ)                          â”‚
â”‚   - runtime_entity_id (UUID PK)                     â”‚
â”‚   - game_entity_id (FK â†’ game_data.entities)       â”‚
â”‚   - session_id (FK â†’ active_sessions)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ FK: runtime_entity_id
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ runtime_data (ê°€ë³€ ìƒíƒœ - ì„¸ì…˜ë³„)                     â”‚
â”‚ - entity_states (ì‹¤ì œ ìƒíƒœ)                          â”‚
â”‚   - state_id (UUID PK)                              â”‚
â”‚   - runtime_entity_id (FK â†’ runtime_entities)      â”‚
â”‚   - current_stats (JSONB)                           â”‚
â”‚   - current_position (JSONB) â† current_cell_id í¬í•¨ â”‚
â”‚   - active_effects, inventory, equipped_items       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“¦ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
rpg_engine/
â”œâ”€â”€ app/                        # ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ
â”‚   â”œâ”€â”€ entity/                 # ì—”í‹°í‹° ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ entity_manager.py  â­ í•µì‹¬
â”‚   â”œâ”€â”€ world/                  # ì›”ë“œ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ cell_manager.py    â­ í•µì‹¬ (ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •!)
â”‚   â”œâ”€â”€ interaction/            # ìƒí˜¸ì‘ìš©
â”‚   â”‚   â”œâ”€â”€ dialogue_manager.py
â”‚   â”‚   â””â”€â”€ action_handler.py
â”‚   â””â”€â”€ systems/                # ì‹œìŠ¤í…œ ëª¨ë“ˆ
â”‚       â””â”€â”€ time_system.py
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ setup/
â”‚   â”‚   â”œâ”€â”€ mvp_schema.sql     â­â­â­ ê°€ì¥ ì¤‘ìš”!
â”‚   â”‚   â””â”€â”€ test_templates.sql
â”‚   â”œâ”€â”€ connection.py
â”‚   â””â”€â”€ repositories/
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ active/                 # í˜„ì¬ ìœ íš¨í•œ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ conftest.py        â­ í”½ìŠ¤ì²˜
â”‚   â”‚   â””â”€â”€ scenarios/
â”‚   â”œâ”€â”€ legacy/                 # ì´ì „ ì•„í‚¤í…ì²˜ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ deprecated/             # ë” ì´ìƒ ì‚¬ìš© ì•ˆ í•¨
â”œâ”€â”€ common/
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ jsonb_handler.py   â­ JSONB íŒŒì‹±
â”‚       â””â”€â”€ error_handler.py
â””â”€â”€ docs/
    â”œâ”€â”€ @rules/                 # ê°œë°œ ê·œì¹™
    â”œâ”€â”€ @project-management/    # í”„ë¡œì íŠ¸ ê´€ë¦¬
    â”œâ”€â”€ @ideation/              # ê¸°íš
    â”œâ”€â”€ dev/                    # ê°œë°œ ì§„í–‰
    â”œâ”€â”€ architecture/           # ì•„í‚¤í…ì²˜ ë¬¸ì„œ
    â””â”€â”€ onboarding/             # ì˜¨ë³´ë”© (ì—¬ê¸°!)
```

---

## 5. ì¤‘ìš” ëª¨ë“ˆ ë° ë©”ì„œë“œ

### â­â­â­ ìµœìš°ì„  ì´í•´ í•„ìš”

#### 1. `EntityManager` (`app/entity/entity_manager.py`)

**í•µì‹¬ ë©”ì„œë“œ**:
```python
async def create_entity(
    static_entity_id: str,      # game_data.entitiesì˜ í…œí”Œë¦¿ ID
    session_id: str,
    custom_properties: Dict = None,
    custom_position: Dict = None
) -> EntityCreationResult
```
- **ì¤‘ìš” í¬ì¸íŠ¸**:
  - Line 203: `runtime_entities` INSERT
  - Line 213: `entity_references` INSERT
  - Line 244: `entity_states` INSERT â­ í•µì‹¬! (ìµœê·¼ ì¶”ê°€)
  - 3ê°œ í…Œì´ë¸”ì„ ëª¨ë‘ ìƒì„±í•´ì•¼ í•¨

```python
async def _load_entity_from_db(entity_id: str) -> Optional[EntityData]
```
- Line 456: 3-Layer ì¡°ì¸ ì¿¼ë¦¬
- JSONB íŒŒì‹± í•„ìˆ˜ (`parse_jsonb_data`)

#### 2. `CellManager` (`app/world/cell_manager.py`)

**âš ï¸ ì£¼ì˜: Cell ManagerëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •!**
- CURSORì˜ `search_replace` ë„êµ¬ ì‚¬ìš© ê¸ˆì§€
- Indentation ë¬¸ì œ ë°˜ë³µ ë°œìƒ
- ìˆ˜ì • í•„ìš” ì‹œ ì‚¬ìš©ìì—ê²Œ ìš”ì²­í•  ê²ƒ

**í•µì‹¬ ë©”ì„œë“œ**:
```python
async def add_entity_to_cell(entity_id: str, cell_id: str) -> CellResult
```
- Line 760-773: `entity_states.current_position`ì— `current_cell_id` ì €ì¥
- JSONB UPDATE ì¿¼ë¦¬ ì‚¬ìš©

```python
async def _load_cell_content_from_db(cell_id: str) -> CellContent
```
- Line 543-554: 3-Layer ì¡°ì¸ ì¿¼ë¦¬ â­
- Line 562-576: JSONB â†’ dict ë³€í™˜ + UUID â†’ str ë³€í™˜
- Line 570-573: **positionì—ì„œ current_cell_id ì œê±°** (Pydantic validation)

```python
async def move_entity_between_cells(
    entity_id: str,
    from_cell_id: str,
    to_cell_id: str,
    new_position: Dict = None
) -> CellResult
```
- Line 865-876: **current_cell_id ìœ ì§€** â­ ì¤‘ìš”!
- `position_with_cell['current_cell_id'] = to_cell_id`

#### 3. `common/utils/jsonb_handler.py`

```python
def parse_jsonb_data(data: Any) -> Optional[Dict[str, Any]]
def serialize_jsonb_data(data: Any) -> str
```
- PostgreSQL JSONB â†” Python dict ë³€í™˜
- **ìë™ íƒ€ì… ê°ì§€**: ë¬¸ìì—´ì´ë©´ json.loads(), dictë©´ ê·¸ëŒ€ë¡œ ë°˜í™˜

---

## 6. ì‘ì—… ë£¨í‹´ ë° ì›Œí¬í”Œë¡œìš°

### ğŸ”„ í‘œì¤€ ê°œë°œ ì›Œí¬í”Œë¡œìš°

#### 1ï¸âƒ£ **ë¬¸ì„œ ë¨¼ì € ì½ê¸°**
```bash
# ê°œë°œ ì‹œì‘ ì „ í•„ìˆ˜!
1. docs/@rules/ì½”ë”© ì»¨ë²¤ì…˜ ë° í’ˆì§ˆ ê°€ì´ë“œ.md
2. database/setup/mvp_schema.sql
3. ê´€ë ¨ Manager í´ë˜ìŠ¤ ì½”ë“œ
```

#### 2ï¸âƒ£ **ìŠ¤í‚¤ë§ˆ í™•ì¸**
```bash
# DB êµ¬ì¡° ì´í•´ í•„ìˆ˜
psql -U postgres -d rpg_engine -f database/setup/mvp_schema.sql
```

#### 3ï¸âƒ£ **TDD ë°©ì‹ ê°œë°œ**
```python
# ìˆœì„œ:
1. í…ŒìŠ¤íŠ¸ ì‘ì„± (tests/active/scenarios/)
2. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ì‹¤íŒ¨ í™•ì¸)
3. ìµœì†Œ êµ¬í˜„ (Manager í´ë˜ìŠ¤)
4. í…ŒìŠ¤íŠ¸ í†µê³¼
5. ë¦¬íŒ©í† ë§
6. ë¬¸ì„œí™”
```

#### 4ï¸âƒ£ **ì½”ë“œ ìˆ˜ì • ê·œì¹™**

**ì¼ë°˜ íŒŒì¼ (Entity Manager ë“±)**:
```python
# âœ… search_replace ì‚¬ìš© ê°€ëŠ¥
# ë‹¨, ê¸´ ê³ ìœ í•œ ì»¨í…ìŠ¤íŠ¸ í•„ìˆ˜ (í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ í¬í•¨, 10-15ì¤„)

old_string = """
    async def create_entity(self, 
                          static_entity_id: str,
                          session_id: str,
                          custom_properties: Dict[str, Any] = None,
                          custom_position: Dict[str, float] = None) -> EntityCreationResult:
        \"\"\"
        ì •ì  ì—”í‹°í‹° í…œí”Œë¦¿ì—ì„œ ëŸ°íƒ€ì„ ì—”í‹°í‹° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        
        Args:
            static_entity_id: ì •ì  ì—”í‹°í‹° í…œí”Œë¦¿ ID
            ...
        \"\"\"
        try:
            # ê¸°ì¡´ ì½”ë“œ
"""
```

**Cell Manager (âš ï¸ íŠ¹ë³„ ì£¼ì˜!)**:
```python
# âŒ search_replace ì‚¬ìš© ê¸ˆì§€!
# âœ… ìˆ˜ì • í•„ìš” ì‹œ ì‚¬ìš©ìì—ê²Œ ìš”ì²­

# ì˜ˆì‹œ:
print("ğŸ“ Cell Manager ìˆ˜ì • ìš”ì²­")
print("íŒŒì¼: app/world/cell_manager.py")
print("ìœ„ì¹˜: Line 865-876")
print("ìˆ˜ì • ë‚´ìš©: [ìƒì„¸ ì„¤ëª…]")
print("ìˆ˜ì • í›„ ì½”ë“œ: [ì œì‹œ]")
```

**ì´ìœ **:
- CURSORì˜ `search_replace`ê°€ indentationì„ ì œëŒ€ë¡œ ì²˜ë¦¬í•˜ì§€ ëª»í•¨
- Cell Managerì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ë¬¸ì œ ë°œìƒ
- ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì•ˆì „

#### 5ï¸âƒ£ **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**
```bash
# ë‹¨ì¼ í…ŒìŠ¤íŠ¸
python -m pytest tests/active/scenarios/test_entity_cell_interaction.py::TestEntityCellInteraction::test_entity_enters_cell -xvs

# ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
python -m pytest tests/active/scenarios/test_entity_cell_interaction.py -v

# íŠ¹ì • ë””ë ‰í† ë¦¬
python -m pytest tests/active/ -v

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
python -m pytest tests/active/ --cov=app --cov-report=html

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
python -m pytest tests/active/test_performance.py -v
```

#### 6ï¸âƒ£ **ë³€ê²½ì‚¬í•­ ë¬¸ì„œí™”**
```markdown
# í•„ìˆ˜ ì—…ë°ì´íŠ¸:
1. readme.md - ì—…ë°ì´íŠ¸ ë¡œê·¸ ì¶”ê°€ (ìµœí•˜ë‹¨)
2. docs/dev/ - ì§„í–‰ ìƒí™© ë³´ê³ ì„œ ì‘ì„±
3. TODO ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (todo_write)

# í˜•ì‹:
## Update Log

### [2025-10-21] Phase 3 ì™„ë£Œ
- Village Simulation 100ì¼ ì„±ê³µ
- ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ 5/5 í†µê³¼
- ì‹œìŠ¤í…œ ì•ˆì •ì„± 100%
```

---

## 7. ì•Œë ¤ì§„ ì´ìŠˆ ë° ì£¼ì˜ì‚¬í•­

### âœ… **í•´ê²°ëœ ì´ìŠˆë“¤**

#### 1. **DialogueManager FAREWELL í† í”½ ì˜¤ë¥˜** âœ…
- **ë¬¸ì œ**: `end_dialogue` ë©”ì„œë“œì—ì„œ "FAREWELL" í† í”½ì„ ì°¾ì§€ ëª»í•¨
- **í•´ê²°**: "farewell" í† í”½ìœ¼ë¡œ ë³€ê²½
- **ì˜í–¥**: ëŒ€í™” ì‹œìŠ¤í…œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì„±ê³µ (275 dialogues/sec)

#### 2. **DB ì •ë¦¬ ìˆœì„œ ë¬¸ì œ (ForeignKey ì œì•½ ì¡°ê±´)** âœ…
- **ë¬¸ì œ**: í…ŒìŠ¤íŠ¸ teardown ì‹œ ForeignKey ì œì•½ ì¡°ê±´ìœ¼ë¡œ ì¸í•œ DB ì •ë¦¬ ì‹¤íŒ¨
- **í•´ê²°**: í…ŒìŠ¤íŠ¸ ê°„ DB ìƒíƒœ ê²©ë¦¬ ê°œì„  ë° CASCADE ì˜µì…˜ í™œìš©
- **ì˜í–¥**: ëª¨ë“  í…ŒìŠ¤íŠ¸ ì •ìƒ ì‹¤í–‰, DB ì •ë¦¬ ì„±ê³µ

#### 3. **Cell Manager delete_cell ë©”ì„œë“œ ëˆ„ë½** âœ…
- **ë¬¸ì œ**: `CellManager`ì— `delete_cell` ë©”ì„œë“œê°€ ì—†ìŒ
- **í•´ê²°**: `delete_cell` ë©”ì„œë“œ êµ¬í˜„ ì™„ë£Œ
- **ì˜í–¥**: ì…€ ê´€ë¦¬ ê¸°ëŠ¥ ì •ìƒ ì‘ë™

#### 4. **Dialogue Manager ê²½ê³ ** âœ…
- **ë¬¸ì œ**: "coroutine 'DatabaseConnection.pool' was never awaited"
- **í•´ê²°**: ëª¨ë“  DB ì ‘ê·¼ì—ì„œ `await` í‚¤ì›Œë“œ ì‚¬ìš©ìœ¼ë¡œ í†µì¼
- **ì˜í–¥**: ê²½ê³  ì œê±°, ëŒ€í™” ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™

#### 5. **Action Handler DB ìŠ¤í‚¤ë§ˆ ë¬¸ì œ** âœ…
- **ë¬¸ì œ**: "session_id" ì¹¼ëŸ¼ì˜ null ê°’ì´ not null ì œì•½ì¡°ê±´ì„ ìœ„ë°˜
- **í•´ê²°**: `_log_action` ë©”ì„œë“œì—ì„œ session_id í•„ìˆ˜ ì²˜ë¦¬ ë° ìë™ ì„¸ì…˜ ìƒì„± êµ¬í˜„
- **ì˜í–¥**: í–‰ë™ ë¡œê·¸ ì €ì¥ ì„±ê³µ, ì•¡ì…˜ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™

#### 6. **Effect Carrier Manager DB ìŠ¤í‚¤ë§ˆ ë¬¸ì œ** âœ…
- **ë¬¸ì œ**: "'str' object has no attribute 'value'"
- **í•´ê²°**: `hasattr(effect_carrier.carrier_type, 'value')` ì²´í¬ë¡œ ì•ˆì „í•œ Enum ì²˜ë¦¬ êµ¬í˜„
- **ì˜í–¥**: Effect Carrier ìƒì„± ì„±ê³µ, ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™

### âš ï¸ **ë‚¨ì€ ì´ìŠˆë“¤**

#### 1. **ìœ ë‹ˆì½”ë“œ ì´ëª¨ì§€ ì¸ì½”ë”© ë¬¸ì œ** (ë†’ì€ ìš°ì„ ìˆœìœ„)
- **ë¬¸ì œ**: Windows ì½˜ì†”ì—ì„œ ìœ ë‹ˆì½”ë“œ ì´ëª¨ì§€ í‘œì‹œ ì˜¤ë¥˜
- **ì˜í–¥**: ë¡œê·¸ ì¶œë ¥ ì˜¤ë¥˜, ì‚¬ìš©ì ê²½í—˜ ì €í•˜
- **í•´ê²° ë°©ì•ˆ**: ì´ëª¨ì§€ ë¬¸ìë¥¼ í…ìŠ¤íŠ¸ë¡œ ëŒ€ì²´, ë¡œê¹… ì„¤ì •ì—ì„œ ì¸ì½”ë”© ë³€ê²½

#### 2. **Pydantic V2 ê²½ê³ ** (ë‚®ì€ ìš°ì„ ìˆœìœ„)
- **ë¬¸ì œ**: "Pydantic V1 style `@validator` validators are deprecated"
- **ì˜í–¥**: ê²½ê³  ë°œìƒ, ê¸°ëŠ¥ì—ëŠ” ì˜í–¥ ì—†ìŒ
- **í•´ê²° ë°©ì•ˆ**: `@validator` â†’ `@field_validator`ë¡œ ë³€ê²½

#### 3. **Pydantic ëª¨ë¸ ê²½ê³ ** (ë‚®ì€ ìš°ì„ ìˆœìœ„)
- **ë¬¸ì œ**: "Support for class-based `config` is deprecated, use ConfigDict instead"
- **ì˜í–¥**: ê²½ê³  ë°œìƒ, ê¸°ëŠ¥ì—ëŠ” ì˜í–¥ ì—†ìŒ
- **í•´ê²° ë°©ì•ˆ**: ëª¨ë“  Pydantic ëª¨ë¸ì˜ `config` í´ë˜ìŠ¤ë¥¼ `ConfigDict`ë¡œ ë³€ê²½

### âš ï¸ **ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  ê²ƒë“¤**

#### 1. **CURSOR search_replace ë„êµ¬ì˜ í•œê³„**
```
ë¬¸ì œ:
- ì§§ì€ ì»¨í…ìŠ¤íŠ¸ ì‚¬ìš© ì‹œ ì˜ëª»ëœ ìœ„ì¹˜ ë§¤ì¹­
- Indentation ë¬¸ì œ ë°˜ë³µ ë°œìƒ
- íŠ¹íˆ Cell Managerì—ì„œ ì‹¬ê°

í•´ê²°:
âœ… ê¸´ ê³ ìœ í•œ ì»¨í…ìŠ¤íŠ¸ ì‚¬ìš© (10-15ì¤„, í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ í¬í•¨)
âœ… Cell ManagerëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •
âœ… ìˆ˜ì • í›„ python -m py_compile ë¡œ ì¦‰ì‹œ ê²€ì¦
```

#### 2. **PostgreSQL JSONB alias ë¬¸ì œ**
```sql
-- âŒ ì´ë ‡ê²Œ í•´ë„ ì‘ë™ ì•ˆ í•  ìˆ˜ ìˆìŒ
SELECT 
    re.runtime_entity_id as entity_id,
    es.current_stats as properties
FROM ...

-- âœ… Pythonì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ì²˜ë¦¬
entity_id_key = 'entity_id' if 'entity_id' in row.keys() else 'runtime_entity_id'
```

#### 3. **position ë°ì´í„° êµ¬ì¡°**
```python
# DBì— ì €ì¥:
current_position = {
    'x': 5.0,
    'y': 5.0,
    'current_cell_id': 'cell-uuid-xxx'  # â­ í•„ìˆ˜!
}

# Pydanticì— ì „ë‹¬ ì‹œ:
position = {
    'x': 5.0,
    'y': 5.0
    # current_cell_id ì œê±°! (Dict[str, float] íƒ€ì…)
}
```

#### 4. **EntityType Enum**
```python
# test_templates.sqlì— 'enemy' íƒ€ì… ìˆìŒ
# EntityTypeì— ENEMY ì¶”ê°€ë¨ (Line 27)
class EntityType(str, Enum):
    PLAYER = "player"
    NPC = "npc"
    MONSTER = "monster"
    ENEMY = "enemy"    # â­ ìµœê·¼ ì¶”ê°€
    OBJECT = "object"
```

#### 5. **ë°ì´í„°ë² ì´ìŠ¤ ì“°ê¸° ì‘ì—…**
```python
# ê°œë°œ ì •ì˜ì„œì— ì—†ëŠ” DB ì“°ê¸° ì‘ì—… ì‹œ ë°˜ë“œì‹œ ì‚¬ìš©ì ì»¨íŒ!
# ì½”ë”© ì»¨ë²¤ì…˜ 8ë²ˆ ì›ì¹™ ì°¸ì¡°

# âŒ ê¸ˆì§€
await conn.execute("DELETE FROM runtime_data.entity_states WHERE ...")

# âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
print("âš ï¸ DB ì“°ê¸° ì‘ì—… ì»¨íŒ ìš”ì²­:")
print("ì‘ì—…: entity_states í…Œì´ë¸” ì‚­ì œ")
print("ì˜í–¥: ì„¸ì…˜ ID xxxì˜ ëª¨ë“  ì—”í‹°í‹° ìƒíƒœ")
# ì‚¬ìš©ì ìŠ¹ì¸ ëŒ€ê¸°
```

#### 6. **ë¹„íŒì  ì„±ê³¼ í‰ê°€**
```python
# ì½”ë”© ì»¨ë²¤ì…˜ 9ë²ˆ ì›ì¹™
# âŒ ë‚™ê´€ì  í‰ê°€ ê¸ˆì§€
print("âœ… í…ŒìŠ¤íŠ¸ í†µê³¼! ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ì‘ë™!")

# âœ… ë¹„íŒì  í‰ê°€
print("âœ… test_entity_enters_cell í†µê³¼")
print("âš ï¸ í•˜ì§€ë§Œ ë‹¤ìŒ ì´ìŠˆ ë°œê²¬:")
print("  - move_entity_between_cellsì—ì„œ current_cell_id ì†ì‹¤")
print("  - DialogueManager ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜")
```

---

## 8. ë‹¤ìŒ ì‘ì—… TODO

### ğŸ¯ **Phase 4: UI ì‹œìŠ¤í…œ êµ¬í˜„**

#### 1. **PyQt5 ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ**
- ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë‹ˆí„°ë§ UI
- ì‹¤ì‹œê°„ ì—”í‹°í‹° ìƒíƒœ í‘œì‹œ
- ëŒ€í™” ë° ì•¡ì…˜ ë¡œê·¸ ë·°ì–´

#### 2. **TimeSystem ëª¨ë“ˆ ê³ ë„í™”**
- ì‹œê°„ ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜ ê°•í™”
- ì´ë²¤íŠ¸ ìŠ¤ì¼€ì¤„ë§ ì‹œìŠ¤í…œ
- ê³„ì ˆ/ë‚ ì”¨ ì‹œìŠ¤í…œ

#### 3. **NPC í–‰ë™ íŒ¨í„´ ì§€ëŠ¥í™”**
- LLM ê¸°ë°˜ NPC ëŒ€í™” ìƒì„±
- ìƒí™©ë³„ í–‰ë™ íŒ¨í„´ í•™ìŠµ
- ê°ì •/ê´€ê³„ ì‹œìŠ¤í…œ

### ğŸ“‹ **ê°œë°œ ìš°ì„ ìˆœìœ„**

1. **UI ì‹œìŠ¤í…œ** (ìµœìš°ì„ )
   - PyQt5 ëŒ€ì‹œë³´ë“œ êµ¬í˜„
   - ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥
   - ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì§€ì›

2. **TimeSystem ëª¨ë“ˆ** (ì¤‘ê°„ ìš°ì„ ìˆœìœ„)
   - ì‹œê°„ ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜
   - ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ
   - ìŠ¤ì¼€ì¤„ë§ ê¸°ëŠ¥

3. **ì½˜í…ì¸  í™•ì¥** (ë‚®ì€ ìš°ì„ ìˆœìœ„)
   - ë” ë§ì€ NPC ì¶”ê°€
   - ìŠ¤í† ë¦¬ ì´ë²¤íŠ¸ í™•ì¥
   - ì•„ì´í…œ/ëŠ¥ë ¥ ì‹œìŠ¤í…œ

---

## 9. ë¹ ë¥¸ ì°¸ì¡°

### ğŸ”§ **í•µì‹¬ ëª…ë ¹ì–´**

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
psql -U postgres -d rpg_engine -f database/setup/mvp_schema.sql
psql -U postgres -d rpg_engine -f database/setup/test_templates.sql

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/active/ -v
python -m pytest tests/active/scenarios/ -v
python -m pytest tests/active/test_performance.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/active/scenarios/test_village_simulation_100days.py -v
python -m pytest tests/active/scenarios/test_multi_session.py -v
python -m pytest tests/active/scenarios/test_dialogue_system.py -v
python -m pytest tests/active/scenarios/test_action_system.py -v

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
python -m pytest tests/active/ --cov=app --cov-report=html

# íƒ€ì… ì²´í¬
mypy app/ --ignore-missing-imports

# ì½”ë“œ í¬ë§·íŒ…
black app/ tests/

# ë¬¸ë²• ì²´í¬
python -m py_compile app/entity/entity_manager.py
python -m py_compile app/world/cell_manager.py

# DB ì—°ê²° í…ŒìŠ¤íŠ¸
python -c "from database.connection import DatabaseConnection; import asyncio; asyncio.run(DatabaseConnection().test_connection())"
```

### ğŸ“ **ì¤‘ìš” íŒŒì¼ ìœ„ì¹˜**

```
# ê°€ì¥ ìì£¼ ë³¼ íŒŒì¼ë“¤
database/setup/mvp_schema.sql              # ìŠ¤í‚¤ë§ˆ ì •ì˜ (ê°€ì¥ ì¤‘ìš”!)
app/entity/entity_manager.py               # ì—”í‹°í‹° ë¡œì§
app/world/cell_manager.py                  # ì…€ ë¡œì§ (ì‚¬ìš©ì ìˆ˜ì •!)
app/interaction/dialogue_manager.py        # ëŒ€í™” ì‹œìŠ¤í…œ
app/interaction/action_handler.py          # ì•¡ì…˜ ì‹œìŠ¤í…œ
tests/active/conftest.py                   # í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜
tests/active/scenarios/test_village_simulation_100days.py  # 100ì¼ ì‹œë®¬ë ˆì´ì…˜
common/utils/jsonb_handler.py             # JSONB ì²˜ë¦¬

# ìì£¼ ì°¸ê³ í•  ë¬¸ì„œë“¤
docs/rules/ì½”ë”© ì»¨ë²¤ì…˜ ë° í’ˆì§ˆ ê°€ì´ë“œ.md    # ê°œë°œ ê·œì¹™
docs/project-management/15_known_issues.md  # ì•Œë ¤ì§„ ì´ìŠˆ
docs/infrastructure/03_infrastructure_integration_summary.md  # ì¸í”„ë¼ í†µí•©
readme.md                                  # í”„ë¡œì íŠ¸ ê°œìš”
tests/active/README.md                     # í…ŒìŠ¤íŠ¸ í˜„í™©
```

### ğŸš¨ **ì£¼ì˜ì‚¬í•­**

1. **Cell Manager ìˆ˜ì • ì‹œ**: ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •í•´ì•¼ í•¨
2. **DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ**: ë°˜ë“œì‹œ ë°±ì—… í›„ ì§„í–‰
3. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œ**: pytest-asyncio ì„¤ì • í™•ì¸
4. **JSONB ì²˜ë¦¬ ì‹œ**: `parse_jsonb_data()` ì‚¬ìš© í•„ìˆ˜
5. **ì„¸ì…˜ ê´€ë¦¬**: ëª¨ë“  ì•¡ì…˜ì— session_id í•„ìˆ˜

### ğŸ¯ **í•µì‹¬ ì›ì¹™ ìš”ì•½** â­â­â­

```
1. â­ ë°ì´í„°ë² ì´ìŠ¤ ë¨¼ì € (Database-First)
   - ìŠ¤í‚¤ë§ˆë¥¼ ë¨¼ì € ì„¤ê³„
   - ì½”ë“œëŠ” ìŠ¤í‚¤ë§ˆë¥¼ ë°˜ì˜

2. â­ 3-Layer êµ¬ì¡° ì¤€ìˆ˜
   - game_data (ì •ì ) â†’ runtime_data (ì°¸ì¡°) â†’ entity_states (ìƒíƒœ)

3. â­ Cell ManagerëŠ” ì‚¬ìš©ìê°€ ìˆ˜ì •
   - search_replace ì‚¬ìš© ê¸ˆì§€
   - ìˆ˜ì • ìš”ì²­ ë°©ì‹ ì‚¬ìš©

4. â­ JSONB ì²˜ë¦¬ ì£¼ì˜
   - parse_jsonb_data() ì‚¬ìš©
   - positionì—ì„œ current_cell_id ë¶„ë¦¬

5. â­ TDD ì¤€ìˆ˜
   - í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„±
   - ë¬¸ì„œí™” í•„ìˆ˜

6. â­ ë¹„íŒì  í‰ê°€
   - ë‚™ê´€ì  í•´ì„ ê¸ˆì§€
   - ë¬¸ì œì  ì†”ì§íˆ ë³´ê³ 
```

---

## ğŸ“ ì˜¨ë³´ë”© ì²´í¬ë¦¬ìŠ¤íŠ¸

ë‹¤ìŒ ì—ì´ì „íŠ¸ëŠ” ë‹¤ìŒ í•­ëª©ë“¤ì„ ìˆœì„œëŒ€ë¡œ í™•ì¸í•˜ì„¸ìš”:

### Day 1: ì´í•´ (2-3ì‹œê°„)
- [ ] `docs/rules/ì½”ë”© ì»¨ë²¤ì…˜ ë° í’ˆì§ˆ ê°€ì´ë“œ.md` ì •ë…
- [ ] `database/setup/mvp_schema.sql` ì •ë… ë° 3-Layer êµ¬ì¡° ì´í•´
- [ ] `readme.md` í”„ë¡œì íŠ¸ ê°œìš” íŒŒì•…
- [ ] `docs/project-management/15_known_issues.md` í˜„ì¬ ì´ìŠˆ í™•ì¸
- [ ] `app/entity/entity_manager.py` ì½”ë“œ ë¦¬ë·°
- [ ] `app/world/cell_manager.py` ì½”ë“œ ë¦¬ë·°
- [ ] `app/interaction/dialogue_manager.py` ì½”ë“œ ë¦¬ë·°
- [ ] `app/interaction/action_handler.py` ì½”ë“œ ë¦¬ë·°

### Day 1: ê²€ì¦ (1ì‹œê°„)
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° í†µê³¼ í™•ì¸
```bash
python -m pytest tests/active/ -v
python -m pytest tests/active/test_performance.py -v
```
- [ ] 100ì¼ ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
```bash
python -m pytest tests/active/scenarios/test_village_simulation_100days.py -v
```
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ í™•ì¸
```bash
psql -U postgres -d rpg_engine -c "\dt game_data.*"
psql -U postgres -d rpg_engine -c "\dt runtime_data.*"
```

### Day 2: ì²« ì‘ì—… (3-4ì‹œê°„)
- [ ] Phase 4 UI ì‹œìŠ¤í…œ êµ¬í˜„ ì°©ìˆ˜
- [ ] PyQt5 ëŒ€ì‹œë³´ë“œ ì„¤ê³„
- [ ] ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ êµ¬í˜„
- [ ] ë¬¸ì„œí™” (`docs/dev/` ì—…ë°ì´íŠ¸)

---

## ğŸ“ ë„ì›€ ìš”ì²­

ë¬¸ì œ ë°œìƒ ì‹œ:
1. `docs/project-management/15_known_issues.md` í™•ì¸
2. ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì½”ë“œ í™•ì¸
3. ìŠ¤í‚¤ë§ˆ ë‹¤ì‹œ í™•ì¸ (`mvp_schema.sql`)
4. ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸ (Cell Manager ìˆ˜ì • ë“±)

---

## âœ… ì¸ìˆ˜ì¸ê³„ í™•ì¸

ë‹¤ìŒ ì—ì´ì „íŠ¸ëŠ” ì´ ë¬¸ì„œë¥¼ ì½ì€ í›„:
1. ì˜¨ë³´ë”© ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™„ë£Œ
2. ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸ (ë‹¨ìœ„ 52/52, í†µí•© 10/10, ì‹œë‚˜ë¦¬ì˜¤ 4/4, ì„±ëŠ¥ 5/5)
3. 100ì¼ ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ í™•ì¸
4. Phase 4 UI ì‹œìŠ¤í…œë¶€í„° ì°©ìˆ˜

**ì¸ê³„ ì™„ë£Œ ì„œëª…**: _____________________  
**ì¸ìˆ˜ ì™„ë£Œ ì„œëª…**: _____________________  
**ë‚ ì§œ**: _____________________

---

**ì‘ì„±**: AI Assistant (Phase 3 ì™„ë£Œì)  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-21 23:30 KST

**Good Luck! ğŸš€**

---

**ğŸ“ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì—°ë½í•˜ì„¸ìš”!**
