# [deprecated] μΈν”„λΌ ν†µν•© μ”μ•½

> **Deprecated λ‚ μ§**: 2025-12-28  
> **Deprecated μ‚¬μ **: μΈν”„λΌ ν†µν•© μ‘μ—…μ΄ μ™„λ£λμ–΄ λ” μ΄μƒ μ§„ν–‰ μ¤‘μΈ μ‘μ—…μ΄ μ•„λ‹™λ‹λ‹¤. μ£Όμ” λ‚΄μ©μ€ `docs/changelog/CHANGELOG.md`μ— ν†µν•©λμ—μµλ‹λ‹¤.

> **μµμΆ… μ—…λ°μ΄νΈ**: 2025-10-21  
> **ν„μ¬ μƒνƒ**: Phase 3 Village Simulation μ™„λ£, λ¨λ“  μΈν”„λΌ μ•μ •ν™”, World Editor 80% μ™„λ£  
> **μ„±λ¥**: 1,226 entities/sec, 960 sessions/sec, 275 dialogues/sec

## π—οΈ **μΈν”„λΌ κµ¬μ΅° κ°μ”**

### **1. λ°μ΄ν„°λ² μ΄μ¤ μ•„ν‚¤ν…μ²**

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚        Application Layer            β”‚
β”‚  (EntityManager, CellManager, etc.) β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚      DatabaseConnectionManager      β”‚
β”‚     (Connection Lifecycle Mgmt)     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚        DatabaseConnection           β”‚
β”‚      (Connection Pool Mgmt)         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           PostgreSQL                β”‚
β”‚         (Database Server)           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### **2. 3κ³„μΈµ λ°μ΄ν„° κµ¬μ΅°**

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         Game Data Layer             β”‚
β”‚    (λ¶λ³€ κ²μ„ λ°μ΄ν„°, ν…ν”λ¦Ώ)         β”‚
β”‚  - entities, world_cells, etc.      β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚        Reference Layer               β”‚
β”‚    (κ²μ„ λ°μ΄ν„° β†” λ°νƒ€μ„ λ°μ΄ν„°)      β”‚
β”‚  - entity_references, etc.          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚        Runtime Data Layer           β”‚
β”‚    (μ‹¤ν–‰ μ¤‘μΈ κ²μ„ μƒνƒ)             β”‚
β”‚  - entity_states, sessions, etc.    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## π― **Phaseλ³„ μΈν”„λΌ μ„±κ³Ό**

### **Phase 1: Entity-Cell μƒνΈμ‘μ©** β…
- **μ—”ν‹°ν‹° μƒμ„±**: 1,226 entities/sec (λ©ν‘ 50 entities/sec μ΄κ³Ό)
- **μ…€ κ΄€λ¦¬**: 413 cells/sec (λ©ν‘ 10 cells/sec μ΄κ³Ό)
- **λ°μ΄ν„° λ¬΄κ²°μ„±**: 100% (λ¨λ“  μ™Έλν‚¤ μ μ•½μ΅°κ±΄ μ¤€μ)

### **Phase 2: λ™μ‹μ„± λ° μƒνΈμ‘μ©** β…
- **λ™μ‹ μ„Έμ… μ²λ¦¬**: 960 entities/sec (λ©ν‘ 100 entities/sec μ΄κ³Ό)
- **μ„Έμ… κ²©λ¦¬**: 50κ° μ„Έμ… λ™μ‹ μ²λ¦¬ μ„±κ³µ
- **λ€ν™” μ‹μ¤ν…**: 275 dialogues/sec (λ©ν‘ 10 dialogues/sec μ΄κ³Ό)
- **μ•΅μ… μ‹μ¤ν…**: 8κ°€μ§€ ν•µμ‹¬ μ•΅μ… μ™„μ „ κµ¬ν„

### **Phase 3: Village Simulation** β…
- **100μΌ μ‹λ®¬λ μ΄μ…**: 1.98μ΄ μ‹¤ν–‰ (λ©ν‘ 5μ΄ μ΄ν•)
- **μ΄ λ€ν™”**: 228ν (λ©ν‘ 50ν μ΄κ³Ό)
- **μ΄ ν–‰λ™**: 833ν (λ©ν‘ 100ν μ΄κ³Ό)
- **μ‹μ¤ν… μ•μ •μ„±**: 100% (μ¤λ¥ μ—†μ΄ μ™„λ£)

## π“ **μ„±λ¥ λ²¤μΉλ§ν¬**

| μ‹μ¤ν… | λ©ν‘ | λ‹¬μ„± | μ΄κ³Όμ¨ |
|--------|------|------|--------|
| μ—”ν‹°ν‹° μƒμ„± | 50 entities/sec | 1,226 entities/sec | 2,352% |
| λ™μ‹ μ„Έμ… | 100 entities/sec | 960 entities/sec | 860% |
| μ…€ μ‘μ—… | 10 cells/sec | 413 cells/sec | 4,030% |
| λ€ν™” μ‹μ¤ν… | 10 dialogues/sec | 275 dialogues/sec | 2,650% |
| λ©”λ¨λ¦¬ μ‚¬μ©λ‰ | 100 MB | 1.0 MB | 99% μ μ•½ |

## π§ **ν…μ¤νΈ μΈν”„λΌ**

### **ν…μ¤νΈ κµ¬μ΅°**
```
tests/
β”β”€β”€ active/                    # ν„μ¬ μ‹¤ν–‰ κ°€λ¥ν• ν…μ¤νΈ
β”‚   β”β”€β”€ conftest.py           # κ³µν†µ ν”½μ¤μ²
β”‚   β”β”€β”€ integration/          # ν†µν•© ν…μ¤νΈ (7κ°)
β”‚   β”β”€β”€ scenarios/            # μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ (4κ°)
β”‚   β””β”€β”€ test_performance.py   # μ„±λ¥ ν…μ¤νΈ
β”β”€β”€ legacy/                   # κµ¬λ²„μ „ ν…μ¤νΈ μ•„μΉ΄μ΄λΈ
β””β”€β”€ deprecated/               # μ‚­μ  μμ • ν…μ¤νΈ
```

### **ν…μ¤νΈ μ„±κ³Ό**
- **λ‹¨μ„ ν…μ¤νΈ**: 52/52 ν†µκ³Ό (100%)
- **ν†µν•© ν…μ¤νΈ**: 10/10 ν†µκ³Ό (100%)
- **μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ**: 4/4 ν†µκ³Ό (100%)
- **μ„±λ¥ ν…μ¤νΈ**: 5/5 ν†µκ³Ό (100%)
- **100μΌ λ§μ„ μ‹λ®¬λ μ΄μ…**: μ™„λ£ (1.98μ΄ μ‹¤ν–‰)

## π”§ **ν•µμ‹¬ μ»΄ν¬λ„νΈ**

### **DatabaseConnectionManager**
- **μ„μΉ**: `database/connection_manager.py`
- **μ—­ν• **: μ—°κ²° ν’€ μƒλ…μ£ΌκΈ° κ΄€λ¦¬, ν…μ¤νΈ ν™κ²½λ³„ μ—°κ²° λ¶„λ¦¬
- **μ£Όμ” κΈ°λ¥**:
  - μ—°κ²° μ΄κΈ°ν™”/μΆ…λ£ κ΄€λ¦¬
  - ν…μ¤νΈλ³„ λ…λ¦½μ μΈ μ΄λ²¤νΈ λ£¨ν”„ μƒμ„±
  - μ—°κ²° μƒνƒ μ¶”μ 

### **DatabaseConnection (κ°μ„ λ¨)**
- **μ„μΉ**: `database/connection.py`
- **μ—­ν• **: μ‹¤μ  DB μ—°κ²° ν’€ κ΄€λ¦¬
- **κ°μ„ μ‚¬ν•­**:
  - μ—°κ²° μƒνƒ κ΄€λ¦¬ (`_is_initialized`, `_is_closed`)
  - λ…μ‹μ  μ΄κΈ°ν™”/μΆ…λ£ λ©”μ„λ“
  - μ—°κ²° ν’€ ν¬κΈ° μµμ ν™” (min_size=2, max_size=10)

### **Repository ν¨ν„΄**
- **GameDataRepository**: κ²μ„ λ°μ΄ν„° CRUD
- **RuntimeDataRepository**: λ°νƒ€μ„ λ°μ΄ν„° CRUD
- **ReferenceLayerRepository**: μ°Έμ΅° κ΄€κ³„ κ΄€λ¦¬

### **Manager ν΄λμ¤λ“¤**
- **EntityManager**: μ—”ν‹°ν‹° μƒλ…μ£ΌκΈ° κ΄€λ¦¬
- **CellManager**: μ…€ κ΄€λ¦¬ λ° μ—”ν‹°ν‹° μ΄λ™
- **DialogueManager**: λ€ν™” μ‹μ¤ν… κ΄€λ¦¬
- **ActionHandler**: μ•΅μ… μ²λ¦¬ λ° λ΅κΉ…

## π€ **λ‹¤μ λ‹¨κ³„**

### **UI μ‹μ¤ν…**
- PyQt5 κΈ°λ° λ€μ‹λ³΄λ“ κµ¬ν„
- μ‹¤μ‹κ°„ κ²μ„ μƒνƒ λ¨λ‹ν„°λ§
- μ‹λ‚λ¦¬μ¤ μ‹¤ν–‰ μΈν„°νμ΄μ¤

### **TimeSystem λ¨λ“**
- μ‹κ°„ κΈ°λ° μ‹λ®¬λ μ΄μ… κ³ λ„ν™”
- NPC μΌκ³Ό λ£¨ν‹΄ κ°μ„ 
- μ΄λ²¤νΈ μ¤μΌ€μ¤„λ§ μ‹μ¤ν…

### **μ½ν…μΈ  ν™•μ¥**
- λ” λ§μ€ NPC, μ΄λ²¤νΈ, μ¤ν† λ¦¬ μ¶”κ°€
- μ§€μ—­ λ° μ…€ ν™•μ¥
- λ€ν™” μ‹μ¤ν… κ³ λ„ν™”

## π“ **μ°Έκ³  λ¬Έμ„**

- [λ°μ΄ν„°λ² μ΄μ¤ μΈν”„λΌ κ°€μ΄λ“](./01_database_infrastructure_guide.md)
- [λ°μ΄ν„°λ² μ΄μ¤ μΈν”„λΌ κµ¬μ¶• μ™„λ£ λ³΄κ³ μ„](./02_database_infrastructure_completion_report.md)
- [Active Tests README](../../tests/active/README.md)
- [Known Issues](../../project-management/15_known_issues.md)
