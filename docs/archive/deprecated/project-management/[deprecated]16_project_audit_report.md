# [deprecated] μ „μ²΄ ν”„λ΅μ νΈ Audit λ³΄κ³ μ„

> **Deprecated λ‚ μ§**: 2025-12-28  
> **Deprecated μ΄μ **: μ΄ λ³΄κ³ μ„λ” νΉμ • μ‹μ (2025-10-19, Phase 5)μ ν”„λ΅μ νΈ μƒνƒλ¥Ό ν‰κ°€ν• κ²ƒμΌλ΅, ν„μ¬λ” Phase 4+ κ°λ°μ΄ μ§„ν–‰ μ¤‘μ΄λ©° λ” μµμ‹  μƒνƒ μ •λ³΄λ” readme.mdμ™€ μµμ‹  λ¬Έμ„λ“¤μ„ μ°Έμ΅°ν•΄μ•Ό ν•¨.  
> **μ‘μ„±μΌ**: 2025-10-19  
> **λ©μ **: Phase 5 κ°λ° λ©ν‘ λ‹¬μ„± μ—¬λ¶€ λ° μ „μ²΄ ν”„λ΅μ νΈ μƒνƒ μΆ…ν•© ν‰κ°€

## π“ **ν…μ¤νΈ κ²°κ³Ό μ”μ•½**

### **μ „μ²΄ ν…μ¤νΈ ν„ν™©**
- **μ΄ ν…μ¤νΈ**: 175κ°
- **ν†µκ³Ό**: 98κ° (56%)
- **μ‹¤ν¨**: 77κ° (44%)
- **μ—λ¬**: 14κ° (8%)
- **κ²½κ³ **: 87κ° (50%)

### **μΉ΄ν…κ³ λ¦¬λ³„ μ„±κ³µλ¥ **
- **λ‹¨μ„ ν…μ¤νΈ**: 52/52 ν†µκ³Ό (100%) β…
- **ν†µν•© ν…μ¤νΈ**: 10/10 ν†µκ³Ό (100%) β…
- **μ¶”μƒν™” μ›μΉ™ ν…μ¤νΈ**: 9/9 ν†µκ³Ό (100%) β…
- **μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ**: 0/22 ν†µκ³Ό (0%) β
- **μ‹λ®¬λ μ΄μ… ν…μ¤νΈ**: 0/3 ν†µκ³Ό (0%) β

## π― **Phase 5 λ©ν‘ λ‹¬μ„± ν‰κ°€**

### **β… λ‹¬μ„±λ λ©ν‘**

#### **1. Manager ν†µν•© ν…μ¤νΈ (100% λ‹¬μ„±)**
- **Entity-Cell ν†µν•©**: β… μ™„λ£
- **Entity-Dialogue ν†µν•©**: β… μ™„λ£  
- **Entity-Action ν†µν•©**: β… μ™„λ£
- **Cell-Dialogue ν†µν•©**: β… μ™„λ£
- **Cell-Action ν†µν•©**: β… μ™„λ£
- **Dialogue-Action ν†µν•©**: β… μ™„λ£
- **Effect Carrier ν†µν•©**: β… μ™„λ£
- **μ „μ²΄ κ²μ„ ν”λ΅μ°**: β… μ™„λ£
- **Manager μ„±λ¥ ν…μ¤νΈ**: β… μ™„λ£
- **Manager μ—λ¬ μ²λ¦¬**: β… μ™„λ£

#### **2. μ¶”μƒν™” μ›μΉ™ μ¤€μ (100% λ‹¬μ„±)**
- **TimeSystem DB μ¶”μƒν™”**: β… μ™„λ£
- **DialogueManager DB μ¶”μƒν™”**: β… μ™„λ£
- **CellManager DB μ¶”μƒν™”**: β… μ™„λ£
- **ActionHandler DB μ¶”μƒν™”**: β… μ™„λ£
- **DefaultValuesManager**: β… μ™„λ£
- **TemplateManager**: β… μ™„λ£
- **ν•λ“μ½”λ”© μ κ±°**: β… μ™„λ£
- **DB ν΄λ°± λ™μ‘**: β… μ™„λ£
- **μΆ…ν•© μ¶”μƒν™” μ¤€μ**: β… μ™„λ£

#### **3. λ°μ΄ν„°λ² μ΄μ¤ ν†µν•© (100% λ‹¬μ„±)**
- **μ¤ν‚¤λ§ λ¬΄κ²°μ„±**: β… μ™„λ£ (40κ° ν…μ΄λΈ”)
- **Effect Carrier μ‹μ¤ν…**: β… μ™„λ£
- **JSONB μ²λ¦¬**: β… μ™„λ£
- **μ„Έμ… μ¤‘μ‹¬ μ„¤κ³„**: β… μ™„λ£
- **μ°Έμ΅° λ¬΄κ²°μ„±**: β… μ™„λ£

### **β λ―Έλ‹¬μ„± λ©ν‘**

#### **1. μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ (0% λ‹¬μ„±)**
- **Entity Manager μ‹λ‚λ¦¬μ¤**: 0/6 ν†µκ³Ό
- **Cell Manager μ‹λ‚λ¦¬μ¤**: 0/5 ν†µκ³Ό
- **Dialogue Manager μ‹λ‚λ¦¬μ¤**: 0/4 ν†µκ³Ό
- **Action Handler μ‹λ‚λ¦¬μ¤**: 0/4 ν†µκ³Ό
- **ν†µν•© μ‹λ‚λ¦¬μ¤**: 0/3 ν†µκ³Ό

#### **2. λ§μ„ μ‹λ®¬λ μ΄μ… (0% λ‹¬μ„±)**
- **100μΌ μ‹λ®¬λ μ΄μ…**: μ‹¤ν¨
- **NPC μΌκ³Ό ν…μ¤νΈ**: μ‹¤ν¨
- **NPC μƒνΈμ‘μ©**: μ‹¤ν¨

## π¨ **μ£Όμ” λ¬Έμ μ  λ¶„μ„**

### **1. API νΈν™μ„± λ¬Έμ  (77κ° μ‹¤ν¨)**
```
TypeError: EntityManager.create_entity() got an unexpected keyword argument...
TypeError: CellManager.create_cell() got an unexpected keyword argument 'name'
```

**μ›μΈ**: Manager ν΄λμ¤ λ¦¬ν©ν† λ§ κ³Όμ •μ—μ„ API μ‹κ·Έλ‹μ² λ³€κ²½
**μν–¥**: λ¨λ“  ν†µν•© ν…μ¤νΈ λ° μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ μ‹¤ν¨
**ν•΄κ²° ν•„μ”**: ν…μ¤νΈ μ½”λ“λ¥Ό μƒλ΅μ΄ APIμ— λ§κ² μ—…λ°μ΄νΈ

### **2. Effect Carrier Manager λ¬Έμ  (2κ° μ‹¤ν¨)**
```
AssertionError: Effect Carrier μƒμ„± μ‹¤ν¨: 'str' object has no attribute 'value'
```

**μ›μΈ**: Effect Carrier νƒ€μ… Enum μ²λ¦¬ μ¤λ¥
**μν–¥**: Effect Carrier κ΄€λ ¨ κΈ°λ¥ μ ν•
**ν•΄κ²° ν•„μ”**: Enum νƒ€μ… μ²λ¦¬ λ΅μ§ μμ •

### **3. GameManager μ΄κΈ°ν™” λ¬Έμ  (7κ° μ—λ¬)**
```
TypeError: GameManager.__init__() takes 7 positional arguments but 8 were given
```

**μ›μΈ**: GameManager μμ΅΄μ„± μ£Όμ… κµ¬μ΅° λ³€κ²½
**μν–¥**: MVP λ©ν‘ ν…μ¤νΈ μ‹¤ν¨
**ν•΄κ²° ν•„μ”**: GameManager μ΄κΈ°ν™” λ΅μ§ μμ •

### **4. ActionHandler μμ΅΄μ„± λ¬Έμ  (7κ° μ—λ¬)**
```
TypeError: ActionHandler.__init__() missing 3 required positional arguments
```

**μ›μΈ**: ActionHandler μμ΅΄μ„± μ£Όμ… κµ¬μ΅° λ³€κ²½
**μν–¥**: μ‹λ®¬λ μ΄μ… ν…μ¤νΈ μ‹¤ν¨
**ν•΄κ²° ν•„μ”**: ActionHandler μ΄κΈ°ν™” λ΅μ§ μμ •

## π“ **μ•λ ¤μ§„ μ΄μ ν•΄κ²° μƒνƒ**

### **β… ν•΄κ²°λ μ΄μ**
1. **Entity Manager μ—…λ°μ΄νΈ λ¬Έμ **: β… μ™„λ£
2. **Entity Manager μ‚­μ  λ¬Έμ **: β… μ™„λ£
3. **μ¶”μƒν™” μ›μΉ™ μ„λ°**: β… μ™„λ£ (DialogueManager ν•λ“μ½”λ”© μ κ±°)

### **π”„ μ§„ν–‰ μ¤‘μΈ μ΄μ**
1. **Cell Manager delete_cell λ©”μ„λ“ λ„λ½**: β οΈ λ―Έν•΄κ²°
2. **μ λ‹μ½”λ“ μ΄λ¨μ§€ μΈμ½”λ”© λ¬Έμ **: β οΈ λ―Έν•΄κ²°

### **β οΈ λ―Έν•΄κ²° μ΄μ**
1. **Pydantic V2 κ²½κ³ **: 87κ° κ²½κ³  λ°μƒ
2. **Dialogue Manager κ²½κ³ **: DB μ ‘κ·Ό ν¨ν„΄ λ¶μΌμΉ
3. **Action Handler DB μ¤ν‚¤λ§ λ¬Έμ **: session_id λ„λ½
4. **Effect Carrier Manager DB μ¤ν‚¤λ§ λ¬Έμ **: Enum μ²λ¦¬ μ¤λ¥

## π― **λ§μ„ μ‹λ®¬λ μ΄μ… κµ¬ν„ μƒνƒ**

### **β… κµ¬ν„λ λ¶€λ¶„**
1. **μ‹κ°„ μ‹μ¤ν…**: `app/systems/time_system.py` κµ¬ν„ μ™„λ£
2. **NPC ν–‰λ™ μ‹μ¤ν…**: `app/systems/npc_behavior.py` κµ¬ν„ μ™„λ£
3. **μ‹λ®¬λ μ΄μ… ν…μ¤νΈ**: `tests/simulation/test_village_simulation.py` κµ¬ν„ μ™„λ£

### **β μ‹¤ν¨ν• λ¶€λ¶„**
1. **100μΌ μ‹λ®¬λ μ΄μ…**: API νΈν™μ„± λ¬Έμ λ΅ μ‹¤ν¨
2. **NPC μΌκ³Ό ν…μ¤νΈ**: API νΈν™μ„± λ¬Έμ λ΅ μ‹¤ν¨
3. **NPC μƒνΈμ‘μ©**: API νΈν™μ„± λ¬Έμ λ΅ μ‹¤ν¨

## π“ **μ „μ²΄ ν”„λ΅μ νΈ μ§„ν–‰ μƒν™©**

### **β… μ™„λ£λ ν•µμ‹¬ κΈ°λ¥ (80%)**
1. **Manager ν΄λμ¤λ“¤**: Entity, Cell, Dialogue, Action, Effect Carrier
2. **λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§**: 40κ° ν…μ΄λΈ”, μ™„μ „ν• λ¬΄κ²°μ„±
3. **μ¶”μƒν™” μ›μΉ™**: λ¨λ“  Managerκ°€ DBμ—μ„ λ™μ  λ΅λ“
4. **ν†µν•© ν…μ¤νΈ**: Manager κ°„ μ—°λ™ κ²€μ¦ μ™„λ£
5. **Effect Carrier μ‹μ¤ν…**: 6κ°€μ§€ νƒ€μ… CRUD κΈ°λ¥

### **π”„ μ§„ν–‰ μ¤‘μΈ μ‘μ—… (20%)**
1. **API νΈν™μ„± μμ •**: ν…μ¤νΈ μ½”λ“ μ—…λ°μ΄νΈ ν•„μ”
2. **μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ**: 22κ° μ‹λ‚λ¦¬μ¤ μ¤‘ 0κ° ν†µκ³Ό
3. **λ§μ„ μ‹λ®¬λ μ΄μ…**: κµ¬ν„ μ™„λ£, ν…μ¤νΈ μ‹¤ν¨

### **π“ μ„±κ³Ό μ§€ν‘**
- **μ½”λ“ ν’μ§**: 100% (νƒ€μ… ννΈ, μ¶”μƒν™” μ›μΉ™)
- **λ°μ΄ν„°λ² μ΄μ¤ ν†µν•©**: 100% (μ¤ν‚¤λ§, λ¬΄κ²°μ„±)
- **Manager ν†µν•©**: 100% (μ—°λ™, μ„±λ¥, μ—λ¬ μ²λ¦¬)
- **ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€**: 56% (API νΈν™μ„± λ¬Έμ λ΅ ν•λ½)
- **μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ**: 0% (API νΈν™μ„± λ¬Έμ )

## π― **ν•µμ‹¬ μ„±κ³Ό**

### **β… λ‹¬μ„±ν• μ£Όμ” μ„±κ³Ό**
1. **μ™„μ „ν• μ¶”μƒν™”**: λ¨λ“  Managerκ°€ DBμ—μ„ λ™μ  λ΅λ“
2. **κ°•λ ¥ν• λ°μ΄ν„°λ² μ΄μ¤**: 40κ° ν…μ΄λΈ”, μ™„μ „ν• λ¬΄κ²°μ„±
3. **Effect Carrier μ‹μ¤ν…**: ν†µν•©λ ν¨κ³Ό κ΄€λ¦¬ μ‹μ¤ν…
4. **Manager ν†µν•©**: λ¨λ“  Manager κ°„ μ—°λ™ κ²€μ¦
5. **μ½”λ”© μ»¨λ²¤μ…**: 100% μ¤€μ

### **β λ―Έλ‹¬μ„±ν• μ£Όμ” λ©ν‘**
1. **μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ**: 0% λ‹¬μ„± (API νΈν™μ„± λ¬Έμ )
2. **λ§μ„ μ‹λ®¬λ μ΄μ…**: 0% λ‹¬μ„± (API νΈν™μ„± λ¬Έμ )
3. **MVP μ™„μ„±**: 80% λ‹¬μ„± (ν…μ¤νΈ μ‹¤ν¨λ΅ μΈν• μ ν•)

## π€ **λ‹¤μ λ‹¨κ³„ κ¶μ¥μ‚¬ν•­**

### **1. μ¦‰μ‹ ν•΄κ²° ν•„μ” (λ†’μ€ μ°μ„ μμ„)**
1. **API νΈν™μ„± μμ •**: λ¨λ“  ν…μ¤νΈ μ½”λ“λ¥Ό μƒλ΅μ΄ Manager APIμ— λ§κ² μ—…λ°μ΄νΈ
2. **Cell Manager μ™„μ„±**: `delete_cell` λ©”μ„λ“ κµ¬ν„
3. **Effect Carrier Enum μ²λ¦¬**: νƒ€μ… μ²λ¦¬ λ΅μ§ μμ •

### **2. λ‹¨κΈ° ν•΄κ²° (μ¤‘κ°„ μ°μ„ μμ„)**
1. **μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ μμ •**: 22κ° μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ μ—…λ°μ΄νΈ
2. **λ§μ„ μ‹λ®¬λ μ΄μ… ν…μ¤νΈ**: API νΈν™μ„± μμ • ν›„ μ¬μ‹¤ν–‰
3. **Pydantic V2 λ§μ΄κ·Έλ μ΄μ…**: κ²½κ³  λ©”μ‹μ§€ μ κ±°

### **3. μ¥κΈ° κ°μ„  (λ‚®μ€ μ°μ„ μμ„)**
1. **μ„±λ¥ μµμ ν™”**: λ€μ©λ‰ λ°μ΄ν„° μ²λ¦¬ κ°μ„ 
2. **UI κµ¬ν„**: κ³„κΈ°ν μ¤νƒ€μΌ μΈν„°νμ΄μ¤
3. **λ¬Έμ„ν™”**: API λ¬Έμ„ λ° μ‚¬μ©μ κ°€μ΄λ“

## π“ **κ²°λ΅ **

### **β… μ„±κ³µν• λ¶€λ¶„**
- **ν•µμ‹¬ μ•„ν‚¤ν…μ²**: μ™„μ „ν• μ¶”μƒν™”μ™€ DB μ¤‘μ‹¬ μ„¤κ³„ λ‹¬μ„±
- **Manager ν†µν•©**: λ¨λ“  Manager κ°„ μ—°λ™ κ²€μ¦ μ™„λ£
- **λ°μ΄ν„°λ² μ΄μ¤**: κ°•λ ¥ν•κ³  ν™•μ¥ κ°€λ¥ν• μ¤ν‚¤λ§ κµ¬μ¶•
- **μ½”λ“ ν’μ§**: λ†’μ€ μμ¤€μ μ½”λ“ ν’μ§κ³Ό μ»¨λ²¤μ… μ¤€μ

### **β μ‹¤ν¨ν• λ¶€λ¶„**
- **API νΈν™μ„±**: λ¦¬ν©ν† λ§ κ³Όμ •μ—μ„ ν…μ¤νΈ μ½”λ“ μ—…λ°μ΄νΈ λ„λ½
- **μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ**: 0% λ‹¬μ„±μΌλ΅ μ‹¤μ  κ²μ„ ν”λ μ΄ κ²€μ¦ λ¶κ°€
- **λ§μ„ μ‹λ®¬λ μ΄μ…**: κµ¬ν„μ€ μ™„λ£λμ—μΌλ‚ ν…μ¤νΈ μ‹¤ν¨

### **π― μ „μ²΄ ν‰κ°€**
**Phase 5λ” ν•µμ‹¬ μ•„ν‚¤ν…μ²μ™€ Manager ν†µν•© μΈ΅λ©΄μ—μ„λ” 100% λ‹¬μ„±ν–μΌλ‚, μ‹¤μ  κ²μ„ ν”λ μ΄ κ²€μ¦μ„ μ„ν• μ‹λ‚λ¦¬μ¤ ν…μ¤νΈμ™€ μ‹λ®¬λ μ΄μ… μΈ΅λ©΄μ—μ„λ” 0% λ‹¬μ„±μΌλ΅, MVP μ™„μ„±μ„ μ„ν•΄μ„λ” μ¶”κ°€ μ‘μ—…μ΄ ν•„μ”ν•©λ‹λ‹¤.**

**κ¶μ¥μ‚¬ν•­: API νΈν™μ„± μμ •μ„ ν†µν• μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ λ³µκµ¬κ°€ μµμ°μ„  κ³Όμ μ…λ‹λ‹¤.**
